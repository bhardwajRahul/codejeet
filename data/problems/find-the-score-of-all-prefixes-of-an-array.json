{
  "id": "2640",
  "title": "Find the Score of All Prefixes of an Array",
  "slug": "find-the-score-of-all-prefixes-of-an-array",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>We define the <strong>conversion array</strong> <code>conver</code> of an array <code>arr</code> as follows:</p>\n\n<ul>\n\t<li><code>conver[i] = arr[i] + max(arr[0..i])</code> where <code>max(arr[0..i])</code> is the maximum value of <code>arr[j]</code> over <code>0 &lt;= j &lt;= i</code>.</li>\n</ul>\n\n<p>We also define the <strong>score</strong> of an array <code>arr</code> as the sum of the values of the conversion array of <code>arr</code>.</p>\n\n<p>Given a <strong>0-indexed</strong> integer array <code>nums</code> of length <code>n</code>, return <em>an array </em><code>ans</code><em> of length </em><code>n</code><em> where </em><code>ans[i]</code><em> is the score of the prefix</em> <code>nums[0..i]</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [2,3,7,5,10]\n<strong>Output:</strong> [4,10,24,36,56]\n<strong>Explanation:</strong> \nFor the prefix [2], the conversion array is [4] hence the score is 4\nFor the prefix [2, 3], the conversion array is [4, 6] hence the score is 10\nFor the prefix [2, 3, 7], the conversion array is [4, 6, 14] hence the score is 24\nFor the prefix [2, 3, 7, 5], the conversion array is [4, 6, 14, 12] hence the score is 36\nFor the prefix [2, 3, 7, 5, 10], the conversion array is [4, 6, 14, 12, 20] hence the score is 56\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,1,2,4,8,16]\n<strong>Output:</strong> [2,4,8,16,32,64]\n<strong>Explanation:</strong> \nFor the prefix [1], the conversion array is [2] hence the score is 2\nFor the prefix [1, 1], the conversion array is [2, 2] hence the score is 4\nFor the prefix [1, 1, 2], the conversion array is [2, 2, 4] hence the score is 8\nFor the prefix [1, 1, 2, 4], the conversion array is [2, 2, 4, 8] hence the score is 16\nFor the prefix [1, 1, 2, 4, 8], the conversion array is [2, 2, 4, 8, 16] hence the score is 32\nFor the prefix [1, 1, 2, 4, 8, 16], the conversion array is [2, 2, 4, 8, 16, 32] hence the score is 64\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>1 &lt;= nums[i] &lt;= 10<sup>9</sup></code></li>\n</ul>\n",
  "content_markdown": "We define the **conversion array** `conver` of an array `arr` as follows:\n\n  * `conver[i] = arr[i] + max(arr[0..i])` where `max(arr[0..i])` is the maximum value of `arr[j]` over `0 <= j <= i`.\n\n\n\nWe also define the **score** of an array `arr` as the sum of the values of the conversion array of `arr`.\n\nGiven a **0-indexed** integer array `nums` of length `n`, return _an array_`ans` _of length_`n` _where_`ans[i]`_is the score of the prefix_ `nums[0..i]`.\n\n \n\n**Example 1:**\n    \n    \n    **Input:** nums = [2,3,7,5,10]\n    **Output:** [4,10,24,36,56]\n    **Explanation:** \n    For the prefix [2], the conversion array is [4] hence the score is 4\n    For the prefix [2, 3], the conversion array is [4, 6] hence the score is 10\n    For the prefix [2, 3, 7], the conversion array is [4, 6, 14] hence the score is 24\n    For the prefix [2, 3, 7, 5], the conversion array is [4, 6, 14, 12] hence the score is 36\n    For the prefix [2, 3, 7, 5, 10], the conversion array is [4, 6, 14, 12, 20] hence the score is 56\n    \n\n**Example 2:**\n    \n    \n    **Input:** nums = [1,1,2,4,8,16]\n    **Output:** [2,4,8,16,32,64]\n    **Explanation:** \n    For the prefix [1], the conversion array is [2] hence the score is 2\n    For the prefix [1, 1], the conversion array is [2, 2] hence the score is 4\n    For the prefix [1, 1, 2], the conversion array is [2, 2, 4] hence the score is 8\n    For the prefix [1, 1, 2, 4], the conversion array is [2, 2, 4, 8] hence the score is 16\n    For the prefix [1, 1, 2, 4, 8], the conversion array is [2, 2, 4, 8, 16] hence the score is 32\n    For the prefix [1, 1, 2, 4, 8, 16], the conversion array is [2, 2, 4, 8, 16, 32] hence the score is 64\n    \n\n \n\n**Constraints:**\n\n  * `1 <= nums.length <= 105`\n  * `1 <= nums[i] <= 109`",
  "question": "We define the **conversion array** `conver` of an array `arr` as follows:\n\n  * `conver[i] = arr[i] + max(arr[0..i])` where `max(arr[0..i])` is the maximum value of `arr[j]` over `0 <= j <= i`.\n\n\n\nWe also define the **score** of an array `arr` as the sum of the values of the conversion array of `arr`.\n\nGiven a **0-indexed** integer array `nums` of length `n`, return _an array_`ans` _of length_`n` _where_`ans[i]`_is the score of the prefix_ `nums[0..i]`.",
  "examples": "**Example 1:**\n    \n    \n    **Input:** nums = [2,3,7,5,10]\n    **Output:** [4,10,24,36,56]\n    **Explanation:** \n    For the prefix [2], the conversion array is [4] hence the score is 4\n    For the prefix [2, 3], the conversion array is [4, 6] hence the score is 10\n    For the prefix [2, 3, 7], the conversion array is [4, 6, 14] hence the score is 24\n    For the prefix [2, 3, 7, 5], the conversion array is [4, 6, 14, 12] hence the score is 36\n    For the prefix [2, 3, 7, 5, 10], the conversion array is [4, 6, 14, 12, 20] hence the score is 56\n    \n\n**Example 2:**\n    \n    \n    **Input:** nums = [1,1,2,4,8,16]\n    **Output:** [2,4,8,16,32,64]\n    **Explanation:** \n    For the prefix [1], the conversion array is [2] hence the score is 2\n    For the prefix [1, 1], the conversion array is [2, 2] hence the score is 4\n    For the prefix [1, 1, 2], the conversion array is [2, 2, 4] hence the score is 8\n    For the prefix [1, 1, 2, 4], the conversion array is [2, 2, 4, 8] hence the score is 16\n    For the prefix [1, 1, 2, 4, 8], the conversion array is [2, 2, 4, 8, 16] hence the score is 32\n    For the prefix [1, 1, 2, 4, 8, 16], the conversion array is [2, 2, 4, 8, 16, 32] hence the score is 64",
  "constraints": "**Constraints:**\n\n  * `1 <= nums.length <= 105`\n  * `1 <= nums[i] <= 109`",
  "topics": ["Array", "Prefix Sum"],
  "total_accepted": 44077,
  "total_submissions": 60513,
  "acceptance_rate": "72.8%",
  "similar_questions": [
    {
      "title": "Most Beautiful Item for Each Query",
      "slug": "most-beautiful-item-for-each-query",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/most-beautiful-item-for-each-query/"
    }
  ],
  "hints": [
    "Keep track of the prefix maximum of the array",
    "Establish a relationship between ans[i] and ans[i-1]",
    "for 0 < i < n, ans[i] = ans[i-1]+conver[i]. In other words, array ans is the prefix sum array of the conversion array"
  ]
}
