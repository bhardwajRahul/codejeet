{
  "id": "1521",
  "title": "Find a Value of a Mysterious Function Closest to Target",
  "slug": "find-a-value-of-a-mysterious-function-closest-to-target",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p><img alt=\"\" src=\"https://assets.leetcode.com/uploads/2020/07/09/change.png\" style=\"width: 635px; height: 312px;\" /></p>\n\n<p>Winston was given the above mysterious function <code>func</code>. He has an integer array <code>arr</code> and an integer <code>target</code> and he wants to find the values <code>l</code> and <code>r</code> that make the value <code>|func(arr, l, r) - target|</code> minimum possible.</p>\n\n<p>Return <em>the minimum possible value</em> of <code>|func(arr, l, r) - target|</code>.</p>\n\n<p>Notice that <code>func</code> should be called with the values <code>l</code> and <code>r</code> where <code>0 &lt;= l, r &lt; arr.length</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> arr = [9,12,3,7,15], target = 5\n<strong>Output:</strong> 2\n<strong>Explanation:</strong> Calling func with all the pairs of [l,r] = [[0,0],[1,1],[2,2],[3,3],[4,4],[0,1],[1,2],[2,3],[3,4],[0,2],[1,3],[2,4],[0,3],[1,4],[0,4]], Winston got the following results [9,12,3,7,15,8,0,3,7,0,0,3,0,0,0]. The value closest to 5 is 7 and 3, thus the minimum difference is 2.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> arr = [1000000,1000000,1000000], target = 1\n<strong>Output:</strong> 999999\n<strong>Explanation:</strong> Winston called the func with all possible values of [l,r] and he always got 1000000, thus the min difference is 999999.\n</pre>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<pre>\n<strong>Input:</strong> arr = [1,2,4,8,16], target = 0\n<strong>Output:</strong> 0\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= arr.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>1 &lt;= arr[i] &lt;= 10<sup>6</sup></code></li>\n\t<li><code>0 &lt;= target &lt;= 10<sup>7</sup></code></li>\n</ul>\n",
  "content_markdown": "![](https://assets.leetcode.com/uploads/2020/07/09/change.png)\n\nWinston was given the above mysterious function `func`. He has an integer array `arr` and an integer `target` and he wants to find the values `l` and `r` that make the value `|func(arr, l, r) - target|` minimum possible.\n\nReturn _the minimum possible value_ of `|func(arr, l, r) - target|`.\n\nNotice that `func` should be called with the values `l` and `r` where `0 <= l, r < arr.length`.\n\n \n\n**Example 1:**\n    \n    \n    **Input:** arr = [9,12,3,7,15], target = 5\n    **Output:** 2\n    **Explanation:** Calling func with all the pairs of [l,r] = [[0,0],[1,1],[2,2],[3,3],[4,4],[0,1],[1,2],[2,3],[3,4],[0,2],[1,3],[2,4],[0,3],[1,4],[0,4]], Winston got the following results [9,12,3,7,15,8,0,3,7,0,0,3,0,0,0]. The value closest to 5 is 7 and 3, thus the minimum difference is 2.\n    \n\n**Example 2:**\n    \n    \n    **Input:** arr = [1000000,1000000,1000000], target = 1\n    **Output:** 999999\n    **Explanation:** Winston called the func with all possible values of [l,r] and he always got 1000000, thus the min difference is 999999.\n    \n\n**Example 3:**\n    \n    \n    **Input:** arr = [1,2,4,8,16], target = 0\n    **Output:** 0\n    \n\n \n\n**Constraints:**\n\n  * `1 <= arr.length <= 105`\n  * `1 <= arr[i] <= 106`\n  * `0 <= target <= 107`",
  "question": "![](https://assets.leetcode.com/uploads/2020/07/09/change.png)\n\nWinston was given the above mysterious function `func`. He has an integer array `arr` and an integer `target` and he wants to find the values `l` and `r` that make the value `|func(arr, l, r) - target|` minimum possible.\n\nReturn _the minimum possible value_ of `|func(arr, l, r) - target|`.\n\nNotice that `func` should be called with the values `l` and `r` where `0 <= l, r < arr.length`.",
  "examples": "**Example 1:**\n    \n    \n    **Input:** arr = [9,12,3,7,15], target = 5\n    **Output:** 2\n    **Explanation:** Calling func with all the pairs of [l,r] = [[0,0],[1,1],[2,2],[3,3],[4,4],[0,1],[1,2],[2,3],[3,4],[0,2],[1,3],[2,4],[0,3],[1,4],[0,4]], Winston got the following results [9,12,3,7,15,8,0,3,7,0,0,3,0,0,0]. The value closest to 5 is 7 and 3, thus the minimum difference is 2.\n    \n\n**Example 2:**\n    \n    \n    **Input:** arr = [1000000,1000000,1000000], target = 1\n    **Output:** 999999\n    **Explanation:** Winston called the func with all possible values of [l,r] and he always got 1000000, thus the min difference is 999999.\n    \n\n**Example 3:**\n    \n    \n    **Input:** arr = [1,2,4,8,16], target = 0\n    **Output:** 0",
  "constraints": "**Constraints:**\n\n  * `1 <= arr.length <= 105`\n  * `1 <= arr[i] <= 106`\n  * `0 <= target <= 107`",
  "topics": ["Array", "Binary Search", "Bit Manipulation", "Segment Tree"],
  "total_accepted": 13781,
  "total_submissions": 29305,
  "acceptance_rate": "47.0%",
  "similar_questions": [],
  "hints": [
    "If the and value of sub-array arr[i...j] is ≥ the and value of the sub-array arr[i...j+1].",
    "For each index i using binary search or ternary search find the index j where |target - AND(arr[i...j])| is minimum, minimize this value with the global answer."
  ]
}
