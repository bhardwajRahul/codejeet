{
  "id": "3776",
  "title": "Minimum Moves to Balance Circular Array",
  "slug": "minimum-moves-to-balance-circular-array",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>You are given a <strong>circular</strong> array <code>balance</code> of length <code>n</code>, where <code>balance[i]</code> is the net balance of person <code>i</code>.</p>\n\n<p>In one move, a person can transfer <strong>exactly</strong> 1 unit of balance to either their left or right neighbor.</p>\n\n<p>Return the <strong>minimum</strong> number of moves required so that every person has a <strong>non-negative</strong> balance. If it is impossible, return <code>-1</code>.</p>\n\n<p><strong>Note</strong>: You are guaranteed that <strong>at most</strong> 1 index has a <strong>negative</strong> balance initially.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">balance = [5,1,-4]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">4</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>One optimal sequence of moves is:</p>\n\n<ul>\n\t<li>Move 1 unit from <code>i = 1</code> to <code>i = 2</code>, resulting in <code>balance = [5, 0, -3]</code></li>\n\t<li>Move 1 unit from <code>i = 0</code> to <code>i = 2</code>, resulting in <code>balance = [4, 0, -2]</code></li>\n\t<li>Move 1 unit from <code>i = 0</code> to <code>i = 2</code>, resulting in <code>balance = [3, 0, -1]</code></li>\n\t<li>Move 1 unit from <code>i = 0</code> to <code>i = 2</code>, resulting in <code>balance = [2, 0, 0]</code></li>\n</ul>\n\n<p>Thus, the minimum number of moves required is 4.</p>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">balance = [1,2,-5,2]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">6</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>One optimal sequence of moves is:</p>\n\n<ul>\n\t<li>Move 1 unit from <code>i = 1</code> to <code>i = 2</code>, resulting in <code>balance = [1, 1, -4, 2]</code></li>\n\t<li>Move 1 unit from <code>i = 1</code> to <code>i = 2</code>, resulting in <code>balance = [1, 0, -3, 2]</code></li>\n\t<li>Move 1 unit from <code>i = 3</code> to <code>i = 2</code>, resulting in <code>balance = [1, 0, -2, 1]</code></li>\n\t<li>Move 1 unit from <code>i = 3</code> to <code>i = 2</code>, resulting in <code>balance = [1, 0, -1, 0]</code></li>\n\t<li>Move 1 unit from <code>i = 0</code> to <code>i = 1</code>, resulting in <code>balance = [0, 1, -1, 0]</code></li>\n\t<li>Move 1 unit from <code>i = 1</code> to <code>i = 2</code>, resulting in <code>balance = [0, 0, 0, 0]</code></li>\n</ul>\n\n<p>Thus, the minimum number of moves required is 6.​​​</p>\n</div>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">balance = [-3,2]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">-1</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>​​​​​​​</strong>It is impossible to make all balances non-negative for <code>balance = [-3, 2]</code>, so the answer is -1.</p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= n == balance.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>-10<sup>9</sup> &lt;= balance[i] &lt;= 10<sup>9</sup></code></li>\n\t<li>There is at most one negative value in <code>balance</code> initially.</li>\n</ul>\n",
  "content_markdown": "You are given a **circular** array `balance` of length `n`, where `balance[i]` is the net balance of person `i`.\n\nIn one move, a person can transfer **exactly** 1 unit of balance to either their left or right neighbor.\n\nReturn the **minimum** number of moves required so that every person has a **non-negative** balance. If it is impossible, return `-1`.\n\n**Note** : You are guaranteed that **at most** 1 index has a **negative** balance initially.\n\n \n\n**Example 1:**\n\n**Input:** balance = [5,1,-4]\n\n**Output:** 4\n\n**Explanation:**\n\nOne optimal sequence of moves is:\n\n  * Move 1 unit from `i = 1` to `i = 2`, resulting in `balance = [5, 0, -3]`\n  * Move 1 unit from `i = 0` to `i = 2`, resulting in `balance = [4, 0, -2]`\n  * Move 1 unit from `i = 0` to `i = 2`, resulting in `balance = [3, 0, -1]`\n  * Move 1 unit from `i = 0` to `i = 2`, resulting in `balance = [2, 0, 0]`\n\n\n\nThus, the minimum number of moves required is 4.\n\n**Example 2:**\n\n**Input:** balance = [1,2,-5,2]\n\n**Output:** 6\n\n**Explanation:**\n\nOne optimal sequence of moves is:\n\n  * Move 1 unit from `i = 1` to `i = 2`, resulting in `balance = [1, 1, -4, 2]`\n  * Move 1 unit from `i = 1` to `i = 2`, resulting in `balance = [1, 0, -3, 2]`\n  * Move 1 unit from `i = 3` to `i = 2`, resulting in `balance = [1, 0, -2, 1]`\n  * Move 1 unit from `i = 3` to `i = 2`, resulting in `balance = [1, 0, -1, 0]`\n  * Move 1 unit from `i = 0` to `i = 1`, resulting in `balance = [0, 1, -1, 0]`\n  * Move 1 unit from `i = 1` to `i = 2`, resulting in `balance = [0, 0, 0, 0]`\n\n\n\nThus, the minimum number of moves required is 6.​​​\n\n**Example 3:**\n\n**Input:** balance = [-3,2]\n\n**Output:** -1\n\n**Explanation:**\n\n**​​​​​​​** It is impossible to make all balances non-negative for `balance = [-3, 2]`, so the answer is -1.\n\n \n\n**Constraints:**\n\n  * `1 <= n == balance.length <= 105`\n  * `-109 <= balance[i] <= 109`\n  * There is at most one negative value in `balance` initially.",
  "question": "You are given a **circular** array `balance` of length `n`, where `balance[i]` is the net balance of person `i`.\n\nIn one move, a person can transfer **exactly** 1 unit of balance to either their left or right neighbor.\n\nReturn the **minimum** number of moves required so that every person has a **non-negative** balance. If it is impossible, return `-1`.\n\n**Note** : You are guaranteed that **at most** 1 index has a **negative** balance initially.",
  "examples": "**Example 1:**\n\n**Input:** balance = [5,1,-4]\n\n**Output:** 4\n\n**Explanation:**\n\nOne optimal sequence of moves is:\n\n  * Move 1 unit from `i = 1` to `i = 2`, resulting in `balance = [5, 0, -3]`\n  * Move 1 unit from `i = 0` to `i = 2`, resulting in `balance = [4, 0, -2]`\n  * Move 1 unit from `i = 0` to `i = 2`, resulting in `balance = [3, 0, -1]`\n  * Move 1 unit from `i = 0` to `i = 2`, resulting in `balance = [2, 0, 0]`\n\n\n\nThus, the minimum number of moves required is 4.\n\n**Example 2:**\n\n**Input:** balance = [1,2,-5,2]\n\n**Output:** 6\n\n**Explanation:**\n\nOne optimal sequence of moves is:\n\n  * Move 1 unit from `i = 1` to `i = 2`, resulting in `balance = [1, 1, -4, 2]`\n  * Move 1 unit from `i = 1` to `i = 2`, resulting in `balance = [1, 0, -3, 2]`\n  * Move 1 unit from `i = 3` to `i = 2`, resulting in `balance = [1, 0, -2, 1]`\n  * Move 1 unit from `i = 3` to `i = 2`, resulting in `balance = [1, 0, -1, 0]`\n  * Move 1 unit from `i = 0` to `i = 1`, resulting in `balance = [0, 1, -1, 0]`\n  * Move 1 unit from `i = 1` to `i = 2`, resulting in `balance = [0, 0, 0, 0]`\n\n\n\nThus, the minimum number of moves required is 6.​​​\n\n**Example 3:**\n\n**Input:** balance = [-3,2]\n\n**Output:** -1\n\n**Explanation:**\n\n**​​​​​​​** It is impossible to make all balances non-negative for `balance = [-3, 2]`, so the answer is -1.",
  "constraints": "**Constraints:**\n\n  * `1 <= n == balance.length <= 105`\n  * `-109 <= balance[i] <= 109`\n  * There is at most one negative value in `balance` initially.",
  "topics": ["Array", "Greedy", "Sorting"],
  "total_accepted": 20426,
  "total_submissions": 50873,
  "acceptance_rate": "40.2%",
  "similar_questions": [],
  "hints": [
    "If there is no negative value, then the answer is 0. If the total sum is less than 0, then the answer is -1.",
    "Sort the positive values in <code>nums</code> by their distance from the index with the negative value.",
    "Greedily use as many values as needed from the sorted <code>nums</code> to offset the current negative value."
  ]
}
