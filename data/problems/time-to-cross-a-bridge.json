{
  "id": "2532",
  "title": "Time to Cross a Bridge",
  "slug": "time-to-cross-a-bridge",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p>There are <code>k</code> workers who want to move <code>n</code> boxes from the right (old) warehouse to the left (new) warehouse. You are given the two integers <code>n</code> and <code>k</code>, and a 2D integer array <code>time</code> of size <code>k x 4</code> where <code>time[i] = [right<sub>i</sub>, pick<sub>i</sub>, left<sub>i</sub>, put<sub>i</sub>]</code>.</p>\n\n<p>The warehouses are separated by a river and connected by a bridge. Initially, all <code>k</code> workers are waiting on the left side of the bridge. To move the boxes, the <code>i<sup>th</sup></code> worker can do the following:</p>\n\n<ul>\n\t<li>Cross the bridge to the right side in <code>right<sub>i</sub></code> minutes.</li>\n\t<li>Pick a box from the right warehouse in <code>pick<sub>i</sub></code> minutes.</li>\n\t<li>Cross the bridge to the left side in <code>left<sub>i</sub></code> minutes.</li>\n\t<li>Put the box into the left warehouse in <code>put<sub>i</sub></code> minutes.</li>\n</ul>\n\n<p>The <code>i<sup>th</sup></code> worker is <strong>less efficient</strong> than the j<code><sup>th</sup></code> worker if either condition is met:</p>\n\n<ul>\n\t<li><code>left<sub>i</sub> + right<sub>i</sub> &gt; left<sub>j</sub> + right<sub>j</sub></code></li>\n\t<li><code>left<sub>i</sub> + right<sub>i</sub> == left<sub>j</sub> + right<sub>j</sub></code> and <code>i &gt; j</code></li>\n</ul>\n\n<p>The following rules regulate the movement of the workers through the bridge:</p>\n\n<ul>\n\t<li>Only one worker can use the bridge at a time.</li>\n\t<li>When the bridge is unused prioritize the <strong>least efficient</strong> worker (who have picked up the box) on the right side to cross. If not,&nbsp;prioritize the <strong>least efficient</strong> worker on the left side to cross.</li>\n\t<li>If enough workers have already been dispatched from the left side to pick up all the remaining boxes, <strong>no more</strong> workers will be sent from the left side.</li>\n</ul>\n\n<p>Return the <strong>elapsed minutes</strong> at which the last box reaches the <strong>left side of the bridge</strong>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">n = 1, k = 3, time = [[1,1,2,1],[1,1,3,1],[1,1,4,1]]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">6</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<pre>\nFrom 0 to 1 minutes: worker 2 crosses the bridge to the right.\nFrom 1 to 2 minutes: worker 2 picks up a box from the right warehouse.\nFrom 2 to 6 minutes: worker 2 crosses the bridge to the left.\nFrom 6 to 7 minutes: worker 2 puts a box at the left warehouse.\nThe whole process ends after 7 minutes. We return 6 because the problem asks for the instance of time at which the last worker reaches the left side of the bridge.\n</pre>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">n = 3, k = 2, time =</span> [[1,5,1,8],[10,10,10,10]]</p>\n\n<p><strong>Output:</strong> 37</p>\n\n<p><strong>Explanation:</strong></p>\n\n<pre>\n<img src=\"https://assets.leetcode.com/uploads/2024/11/21/378539249-c6ce3c73-40e7-4670-a8b5-7ddb9abede11.png\" style=\"width: 450px; height: 176px;\" />\n</pre>\n\n<p>The last box reaches the left side at 37 seconds. Notice, how we <strong>do not</strong> put the last boxes down, as that would take more time, and they are already on the left with the workers.</p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= n, k &lt;= 10<sup>4</sup></code></li>\n\t<li><code>time.length == k</code></li>\n\t<li><code>time[i].length == 4</code></li>\n\t<li><code>1 &lt;= left<sub>i</sub>, pick<sub>i</sub>, right<sub>i</sub>, put<sub>i</sub> &lt;= 1000</code></li>\n</ul>\n",
  "content_markdown": "There are `k` workers who want to move `n` boxes from the right (old) warehouse to the left (new) warehouse. You are given the two integers `n` and `k`, and a 2D integer array `time` of size `k x 4` where `time[i] = [righti, picki, lefti, puti]`.\n\nThe warehouses are separated by a river and connected by a bridge. Initially, all `k` workers are waiting on the left side of the bridge. To move the boxes, the `ith` worker can do the following:\n\n  * Cross the bridge to the right side in `righti` minutes.\n  * Pick a box from the right warehouse in `picki` minutes.\n  * Cross the bridge to the left side in `lefti` minutes.\n  * Put the box into the left warehouse in `puti` minutes.\n\n\n\nThe `ith` worker is **less efficient** than the j`th` worker if either condition is met:\n\n  * `lefti + righti > leftj + rightj`\n  * `lefti + righti == leftj + rightj` and `i > j`\n\n\n\nThe following rules regulate the movement of the workers through the bridge:\n\n  * Only one worker can use the bridge at a time.\n  * When the bridge is unused prioritize the **least efficient** worker (who have picked up the box) on the right side to cross. If not, prioritize the **least efficient** worker on the left side to cross.\n  * If enough workers have already been dispatched from the left side to pick up all the remaining boxes, **no more** workers will be sent from the left side.\n\n\n\nReturn the **elapsed minutes** at which the last box reaches the **left side of the bridge**.\n\n \n\n**Example 1:**\n\n**Input:** n = 1, k = 3, time = [[1,1,2,1],[1,1,3,1],[1,1,4,1]]\n\n**Output:** 6\n\n**Explanation:**\n    \n    \n    From 0 to 1 minutes: worker 2 crosses the bridge to the right.\n    From 1 to 2 minutes: worker 2 picks up a box from the right warehouse.\n    From 2 to 6 minutes: worker 2 crosses the bridge to the left.\n    From 6 to 7 minutes: worker 2 puts a box at the left warehouse.\n    The whole process ends after 7 minutes. We return 6 because the problem asks for the instance of time at which the last worker reaches the left side of the bridge.\n    \n\n**Example 2:**\n\n**Input:** n = 3, k = 2, time = [[1,5,1,8],[10,10,10,10]]\n\n**Output:** 37\n\n**Explanation:**\n    \n    \n    ![](https://assets.leetcode.com/uploads/2024/11/21/378539249-c6ce3c73-40e7-4670-a8b5-7ddb9abede11.png)\n    \n\nThe last box reaches the left side at 37 seconds. Notice, how we **do not** put the last boxes down, as that would take more time, and they are already on the left with the workers.\n\n \n\n**Constraints:**\n\n  * `1 <= n, k <= 104`\n  * `time.length == k`\n  * `time[i].length == 4`\n  * `1 <= lefti, picki, righti, puti <= 1000`",
  "question": "There are `k` workers who want to move `n` boxes from the right (old) warehouse to the left (new) warehouse. You are given the two integers `n` and `k`, and a 2D integer array `time` of size `k x 4` where `time[i] = [righti, picki, lefti, puti]`.\n\nThe warehouses are separated by a river and connected by a bridge. Initially, all `k` workers are waiting on the left side of the bridge. To move the boxes, the `ith` worker can do the following:\n\n  * Cross the bridge to the right side in `righti` minutes.\n  * Pick a box from the right warehouse in `picki` minutes.\n  * Cross the bridge to the left side in `lefti` minutes.\n  * Put the box into the left warehouse in `puti` minutes.\n\n\n\nThe `ith` worker is **less efficient** than the j`th` worker if either condition is met:\n\n  * `lefti + righti > leftj + rightj`\n  * `lefti + righti == leftj + rightj` and `i > j`\n\n\n\nThe following rules regulate the movement of the workers through the bridge:\n\n  * Only one worker can use the bridge at a time.\n  * When the bridge is unused prioritize the **least efficient** worker (who have picked up the box) on the right side to cross. If not, prioritize the **least efficient** worker on the left side to cross.\n  * If enough workers have already been dispatched from the left side to pick up all the remaining boxes, **no more** workers will be sent from the left side.\n\n\n\nReturn the **elapsed minutes** at which the last box reaches the **left side of the bridge**.",
  "examples": "**Example 1:**\n\n**Input:** n = 1, k = 3, time = [[1,1,2,1],[1,1,3,1],[1,1,4,1]]\n\n**Output:** 6\n\n**Explanation:**\n    \n    \n    From 0 to 1 minutes: worker 2 crosses the bridge to the right.\n    From 1 to 2 minutes: worker 2 picks up a box from the right warehouse.\n    From 2 to 6 minutes: worker 2 crosses the bridge to the left.\n    From 6 to 7 minutes: worker 2 puts a box at the left warehouse.\n    The whole process ends after 7 minutes. We return 6 because the problem asks for the instance of time at which the last worker reaches the left side of the bridge.\n    \n\n**Example 2:**\n\n**Input:** n = 3, k = 2, time = [[1,5,1,8],[10,10,10,10]]\n\n**Output:** 37\n\n**Explanation:**\n    \n    \n    ![](https://assets.leetcode.com/uploads/2024/11/21/378539249-c6ce3c73-40e7-4670-a8b5-7ddb9abede11.png)\n    \n\nThe last box reaches the left side at 37 seconds. Notice, how we **do not** put the last boxes down, as that would take more time, and they are already on the left with the workers.",
  "constraints": "**Constraints:**\n\n  * `1 <= n, k <= 104`\n  * `time.length == k`\n  * `time[i].length == 4`\n  * `1 <= lefti, picki, righti, puti <= 1000`",
  "topics": ["Array", "Heap (Priority Queue)", "Simulation"],
  "total_accepted": 5730,
  "total_submissions": 12905,
  "acceptance_rate": "44.4%",
  "similar_questions": [
    {
      "title": "The Latest Time to Catch a Bus",
      "slug": "the-latest-time-to-catch-a-bus",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/the-latest-time-to-catch-a-bus/"
    },
    {
      "title": "Total Cost to Hire K Workers",
      "slug": "total-cost-to-hire-k-workers",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/total-cost-to-hire-k-workers/"
    }
  ],
  "hints": [
    "Try simulating this process.",
    "We can use a priority queue to query over the least efficient worker."
  ]
}
