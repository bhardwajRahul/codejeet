{
  "id": "1845",
  "title": "Seat Reservation Manager",
  "slug": "seat-reservation-manager",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>Design a system that manages the reservation state of <code>n</code> seats that are numbered from <code>1</code> to <code>n</code>.</p>\n\n<p>Implement the <code>SeatManager</code> class:</p>\n\n<ul>\n\t<li><code>SeatManager(int n)</code> Initializes a <code>SeatManager</code> object that will manage <code>n</code> seats numbered from <code>1</code> to <code>n</code>. All seats are initially available.</li>\n\t<li><code>int reserve()</code> Fetches the <strong>smallest-numbered</strong> unreserved seat, reserves it, and returns its number.</li>\n\t<li><code>void unreserve(int seatNumber)</code> Unreserves the seat with the given <code>seatNumber</code>.</li>\n</ul>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input</strong>\n[&quot;SeatManager&quot;, &quot;reserve&quot;, &quot;reserve&quot;, &quot;unreserve&quot;, &quot;reserve&quot;, &quot;reserve&quot;, &quot;reserve&quot;, &quot;reserve&quot;, &quot;unreserve&quot;]\n[[5], [], [], [2], [], [], [], [], [5]]\n<strong>Output</strong>\n[null, 1, 2, null, 2, 3, 4, 5, null]\n\n<strong>Explanation</strong>\nSeatManager seatManager = new SeatManager(5); // Initializes a SeatManager with 5 seats.\nseatManager.reserve();    // All seats are available, so return the lowest numbered seat, which is 1.\nseatManager.reserve();    // The available seats are [2,3,4,5], so return the lowest of them, which is 2.\nseatManager.unreserve(2); // Unreserve seat 2, so now the available seats are [2,3,4,5].\nseatManager.reserve();    // The available seats are [2,3,4,5], so return the lowest of them, which is 2.\nseatManager.reserve();    // The available seats are [3,4,5], so return the lowest of them, which is 3.\nseatManager.reserve();    // The available seats are [4,5], so return the lowest of them, which is 4.\nseatManager.reserve();    // The only available seat is seat 5, so return 5.\nseatManager.unreserve(5); // Unreserve seat 5, so now the available seats are [5].\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= n &lt;= 10<sup>5</sup></code></li>\n\t<li><code>1 &lt;= seatNumber &lt;= n</code></li>\n\t<li>For each call to <code>reserve</code>, it is guaranteed that there will be at least one unreserved seat.</li>\n\t<li>For each call to <code>unreserve</code>, it is guaranteed that <code>seatNumber</code> will be reserved.</li>\n\t<li>At most <code>10<sup>5</sup></code> calls <strong>in total</strong> will be made to <code>reserve</code> and <code>unreserve</code>.</li>\n</ul>\n",
  "content_markdown": "Design a system that manages the reservation state of `n` seats that are numbered from `1` to `n`.\n\nImplement the `SeatManager` class:\n\n  * `SeatManager(int n)` Initializes a `SeatManager` object that will manage `n` seats numbered from `1` to `n`. All seats are initially available.\n  * `int reserve()` Fetches the **smallest-numbered** unreserved seat, reserves it, and returns its number.\n  * `void unreserve(int seatNumber)` Unreserves the seat with the given `seatNumber`.\n\n\n\n \n\n**Example 1:**\n    \n    \n    **Input**\n    [\"SeatManager\", \"reserve\", \"reserve\", \"unreserve\", \"reserve\", \"reserve\", \"reserve\", \"reserve\", \"unreserve\"]\n    [[5], [], [], [2], [], [], [], [], [5]]\n    **Output**\n    [null, 1, 2, null, 2, 3, 4, 5, null]\n    \n    **Explanation**\n    SeatManager seatManager = new SeatManager(5); // Initializes a SeatManager with 5 seats.\n    seatManager.reserve();    // All seats are available, so return the lowest numbered seat, which is 1.\n    seatManager.reserve();    // The available seats are [2,3,4,5], so return the lowest of them, which is 2.\n    seatManager.unreserve(2); // Unreserve seat 2, so now the available seats are [2,3,4,5].\n    seatManager.reserve();    // The available seats are [2,3,4,5], so return the lowest of them, which is 2.\n    seatManager.reserve();    // The available seats are [3,4,5], so return the lowest of them, which is 3.\n    seatManager.reserve();    // The available seats are [4,5], so return the lowest of them, which is 4.\n    seatManager.reserve();    // The only available seat is seat 5, so return 5.\n    seatManager.unreserve(5); // Unreserve seat 5, so now the available seats are [5].\n    \n\n \n\n**Constraints:**\n\n  * `1 <= n <= 105`\n  * `1 <= seatNumber <= n`\n  * For each call to `reserve`, it is guaranteed that there will be at least one unreserved seat.\n  * For each call to `unreserve`, it is guaranteed that `seatNumber` will be reserved.\n  * At most `105` calls **in total** will be made to `reserve` and `unreserve`.",
  "question": "Design a system that manages the reservation state of `n` seats that are numbered from `1` to `n`.\n\nImplement the `SeatManager` class:\n\n  * `SeatManager(int n)` Initializes a `SeatManager` object that will manage `n` seats numbered from `1` to `n`. All seats are initially available.\n  * `int reserve()` Fetches the **smallest-numbered** unreserved seat, reserves it, and returns its number.\n  * `void unreserve(int seatNumber)` Unreserves the seat with the given `seatNumber`.",
  "examples": "**Example 1:**\n    \n    \n    **Input**\n    [\"SeatManager\", \"reserve\", \"reserve\", \"unreserve\", \"reserve\", \"reserve\", \"reserve\", \"reserve\", \"unreserve\"]\n    [[5], [], [], [2], [], [], [], [], [5]]\n    **Output**\n    [null, 1, 2, null, 2, 3, 4, 5, null]\n    \n    **Explanation**\n    SeatManager seatManager = new SeatManager(5); // Initializes a SeatManager with 5 seats.\n    seatManager.reserve();    // All seats are available, so return the lowest numbered seat, which is 1.\n    seatManager.reserve();    // The available seats are [2,3,4,5], so return the lowest of them, which is 2.\n    seatManager.unreserve(2); // Unreserve seat 2, so now the available seats are [2,3,4,5].\n    seatManager.reserve();    // The available seats are [2,3,4,5], so return the lowest of them, which is 2.\n    seatManager.reserve();    // The available seats are [3,4,5], so return the lowest of them, which is 3.\n    seatManager.reserve();    // The available seats are [4,5], so return the lowest of them, which is 4.\n    seatManager.reserve();    // The only available seat is seat 5, so return 5.\n    seatManager.unreserve(5); // Unreserve seat 5, so now the available seats are [5].",
  "constraints": "**Constraints:**\n\n  * `1 <= n <= 105`\n  * `1 <= seatNumber <= n`\n  * For each call to `reserve`, it is guaranteed that there will be at least one unreserved seat.\n  * For each call to `unreserve`, it is guaranteed that `seatNumber` will be reserved.\n  * At most `105` calls **in total** will be made to `reserve` and `unreserve`.",
  "topics": ["Design", "Heap (Priority Queue)"],
  "total_accepted": 147611,
  "total_submissions": 220102,
  "acceptance_rate": "67.1%",
  "similar_questions": [
    {
      "title": "Design Phone Directory",
      "slug": "design-phone-directory",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/design-phone-directory/"
    },
    {
      "title": "Design a Number Container System",
      "slug": "design-a-number-container-system",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/design-a-number-container-system/"
    }
  ],
  "hints": [
    "You need a data structure that maintains the states of the seats. This data structure should also allow you to get the first available seat and flip the state of a seat in a reasonable time.",
    "You can let the data structure contain the available seats. Then you want to be able to get the lowest element and erase an element, in a reasonable time.",
    "Ordered sets support these operations."
  ]
}
