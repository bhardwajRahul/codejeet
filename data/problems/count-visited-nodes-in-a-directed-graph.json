{
  "id": "2876",
  "title": "Count Visited Nodes in a Directed Graph",
  "slug": "count-visited-nodes-in-a-directed-graph",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p>There is a <strong>directed</strong> graph consisting of <code>n</code> nodes numbered from <code>0</code> to <code>n - 1</code> and <code>n</code> directed edges.</p>\n\n<p>You are given a <strong>0-indexed</strong> array <code>edges</code> where <code>edges[i]</code> indicates that there is an edge from node <code>i</code> to node <code>edges[i]</code>.</p>\n\n<p>Consider the following process on the graph:</p>\n\n<ul>\n\t<li>You start from a node <code>x</code> and keep visiting other nodes through edges until you reach a node that you have already visited before on this <strong>same</strong> process.</li>\n</ul>\n\n<p>Return <em>an array </em><code>answer</code><em> where </em><code>answer[i]</code><em> is the number of <strong>different</strong> nodes that you will visit if you perform the process starting from node </em><code>i</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2023/08/31/graaphdrawio-1.png\" />\n<pre>\n<strong>Input:</strong> edges = [1,2,0,0]\n<strong>Output:</strong> [3,3,3,4]\n<strong>Explanation:</strong> We perform the process starting from each node in the following way:\n- Starting from node 0, we visit the nodes 0 -&gt; 1 -&gt; 2 -&gt; 0. The number of different nodes we visit is 3.\n- Starting from node 1, we visit the nodes 1 -&gt; 2 -&gt; 0 -&gt; 1. The number of different nodes we visit is 3.\n- Starting from node 2, we visit the nodes 2 -&gt; 0 -&gt; 1 -&gt; 2. The number of different nodes we visit is 3.\n- Starting from node 3, we visit the nodes 3 -&gt; 0 -&gt; 1 -&gt; 2 -&gt; 0. The number of different nodes we visit is 4.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2023/08/31/graaph2drawio.png\" style=\"width: 191px; height: 251px;\" />\n<pre>\n<strong>Input:</strong> edges = [1,2,3,4,0]\n<strong>Output:</strong> [5,5,5,5,5]\n<strong>Explanation:</strong> Starting from any node we can visit every node in the graph in the process.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == edges.length</code></li>\n\t<li><code>2 &lt;= n &lt;= 10<sup>5</sup></code></li>\n\t<li><code>0 &lt;= edges[i] &lt;= n - 1</code></li>\n\t<li><code>edges[i] != i</code></li>\n</ul>\n",
  "content_markdown": "There is a **directed** graph consisting of `n` nodes numbered from `0` to `n - 1` and `n` directed edges.\n\nYou are given a **0-indexed** array `edges` where `edges[i]` indicates that there is an edge from node `i` to node `edges[i]`.\n\nConsider the following process on the graph:\n\n  * You start from a node `x` and keep visiting other nodes through edges until you reach a node that you have already visited before on this **same** process.\n\n\n\nReturn _an array_`answer` _where_`answer[i]`_is the number of**different** nodes that you will visit if you perform the process starting from node _`i`.\n\n \n\n**Example 1:**\n\n![](https://assets.leetcode.com/uploads/2023/08/31/graaphdrawio-1.png)\n    \n    \n    **Input:** edges = [1,2,0,0]\n    **Output:** [3,3,3,4]\n    **Explanation:** We perform the process starting from each node in the following way:\n    - Starting from node 0, we visit the nodes 0 -> 1 -> 2 -> 0. The number of different nodes we visit is 3.\n    - Starting from node 1, we visit the nodes 1 -> 2 -> 0 -> 1. The number of different nodes we visit is 3.\n    - Starting from node 2, we visit the nodes 2 -> 0 -> 1 -> 2. The number of different nodes we visit is 3.\n    - Starting from node 3, we visit the nodes 3 -> 0 -> 1 -> 2 -> 0. The number of different nodes we visit is 4.\n    \n\n**Example 2:**\n\n![](https://assets.leetcode.com/uploads/2023/08/31/graaph2drawio.png)\n    \n    \n    **Input:** edges = [1,2,3,4,0]\n    **Output:** [5,5,5,5,5]\n    **Explanation:** Starting from any node we can visit every node in the graph in the process.\n    \n\n \n\n**Constraints:**\n\n  * `n == edges.length`\n  * `2 <= n <= 105`\n  * `0 <= edges[i] <= n - 1`\n  * `edges[i] != i`",
  "question": "There is a **directed** graph consisting of `n` nodes numbered from `0` to `n - 1` and `n` directed edges.\n\nYou are given a **0-indexed** array `edges` where `edges[i]` indicates that there is an edge from node `i` to node `edges[i]`.\n\nConsider the following process on the graph:\n\n  * You start from a node `x` and keep visiting other nodes through edges until you reach a node that you have already visited before on this **same** process.\n\n\n\nReturn _an array_`answer` _where_`answer[i]`_is the number of**different** nodes that you will visit if you perform the process starting from node _`i`.",
  "examples": "**Example 1:**\n\n![](https://assets.leetcode.com/uploads/2023/08/31/graaphdrawio-1.png)\n    \n    \n    **Input:** edges = [1,2,0,0]\n    **Output:** [3,3,3,4]\n    **Explanation:** We perform the process starting from each node in the following way:\n    - Starting from node 0, we visit the nodes 0 -> 1 -> 2 -> 0. The number of different nodes we visit is 3.\n    - Starting from node 1, we visit the nodes 1 -> 2 -> 0 -> 1. The number of different nodes we visit is 3.\n    - Starting from node 2, we visit the nodes 2 -> 0 -> 1 -> 2. The number of different nodes we visit is 3.\n    - Starting from node 3, we visit the nodes 3 -> 0 -> 1 -> 2 -> 0. The number of different nodes we visit is 4.\n    \n\n**Example 2:**\n\n![](https://assets.leetcode.com/uploads/2023/08/31/graaph2drawio.png)\n    \n    \n    **Input:** edges = [1,2,3,4,0]\n    **Output:** [5,5,5,5,5]\n    **Explanation:** Starting from any node we can visit every node in the graph in the process.",
  "constraints": "**Constraints:**\n\n  * `n == edges.length`\n  * `2 <= n <= 105`\n  * `0 <= edges[i] <= n - 1`\n  * `edges[i] != i`",
  "topics": ["Dynamic Programming", "Graph Theory", "Memoization"],
  "total_accepted": 13869,
  "total_submissions": 45815,
  "acceptance_rate": "30.3%",
  "similar_questions": [],
  "hints": [
    "Consider if the graph was only one cycle, what will be the answer for each node?",
    "The actual graph will always consist of at least one cycle and some other nodes.",
    "Calculate the answer for nodes in cycles the same way as in hint 1. How do you calculate the answer for the remaining nodes?"
  ]
}
