{
  "id": "3408",
  "title": "Design Task Manager",
  "slug": "design-task-manager",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>There is a task management system that allows users to manage their tasks, each associated with a priority. The system should efficiently handle adding, modifying, executing, and removing tasks.</p>\n\n<p>Implement the <code>TaskManager</code> class:</p>\n\n<ul>\n\t<li>\n\t<p><code>TaskManager(vector&lt;vector&lt;int&gt;&gt;&amp; tasks)</code> initializes the task manager with a list of user-task-priority triples. Each element in the input list is of the form <code>[userId, taskId, priority]</code>, which adds a task to the specified user with the given priority.</p>\n\t</li>\n\t<li>\n\t<p><code>void add(int userId, int taskId, int priority)</code> adds a task with the specified <code>taskId</code> and <code>priority</code> to the user with <code>userId</code>. It is <strong>guaranteed</strong> that <code>taskId</code> does not <em>exist</em> in the system.</p>\n\t</li>\n\t<li>\n\t<p><code>void edit(int taskId, int newPriority)</code> updates the priority of the existing <code>taskId</code> to <code>newPriority</code>. It is <strong>guaranteed</strong> that <code>taskId</code> <em>exists</em> in the system.</p>\n\t</li>\n\t<li>\n\t<p><code>void rmv(int taskId)</code> removes the task identified by <code>taskId</code> from the system. It is <strong>guaranteed</strong> that <code>taskId</code> <em>exists</em> in the system.</p>\n\t</li>\n\t<li>\n\t<p><code>int execTop()</code> executes the task with the <strong>highest</strong> priority across all users. If there are multiple tasks with the same <strong>highest</strong> priority, execute the one with the highest <code>taskId</code>. After executing, the<strong> </strong><code>taskId</code><strong> </strong>is <strong>removed</strong> from the system. Return the <code>userId</code> associated with the executed task. If no tasks are available, return -1.</p>\n\t</li>\n</ul>\n\n<p><strong>Note</strong> that a user may be assigned multiple tasks.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong><br />\n<span class=\"example-io\">[&quot;TaskManager&quot;, &quot;add&quot;, &quot;edit&quot;, &quot;execTop&quot;, &quot;rmv&quot;, &quot;add&quot;, &quot;execTop&quot;]<br />\n[[[[1, 101, 10], [2, 102, 20], [3, 103, 15]]], [4, 104, 5], [102, 8], [], [101], [5, 105, 15], []]</span></p>\n\n<p><strong>Output:</strong><br />\n<span class=\"example-io\">[null, null, null, 3, null, null, 5] </span></p>\n\n<p><strong>Explanation</strong></p>\nTaskManager taskManager = new TaskManager([[1, 101, 10], [2, 102, 20], [3, 103, 15]]); // Initializes with three tasks for Users 1, 2, and 3.<br />\ntaskManager.add(4, 104, 5); // Adds task 104 with priority 5 for User 4.<br />\ntaskManager.edit(102, 8); // Updates priority of task 102 to 8.<br />\ntaskManager.execTop(); // return 3. Executes task 103 for User 3.<br />\ntaskManager.rmv(101); // Removes task 101 from the system.<br />\ntaskManager.add(5, 105, 15); // Adds task 105 with priority 15 for User 5.<br />\ntaskManager.execTop(); // return 5. Executes task 105 for User 5.</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= tasks.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>0 &lt;= userId &lt;= 10<sup>5</sup></code></li>\n\t<li><code>0 &lt;= taskId &lt;= 10<sup>5</sup></code></li>\n\t<li><code>0 &lt;= priority &lt;= 10<sup>9</sup></code></li>\n\t<li><code>0 &lt;= newPriority &lt;= 10<sup>9</sup></code></li>\n\t<li>At most <code>2 * 10<sup>5</sup></code> calls will be made in <strong>total</strong> to <code>add</code>, <code>edit</code>, <code>rmv</code>, and <code>execTop</code> methods.</li>\n\t<li>The input is generated such that <code>taskId</code> will be valid.</li>\n</ul>\n",
  "content_markdown": "There is a task management system that allows users to manage their tasks, each associated with a priority. The system should efficiently handle adding, modifying, executing, and removing tasks.\n\nImplement the `TaskManager` class:\n\n  * `TaskManager(vector<vector<int>>& tasks)` initializes the task manager with a list of user-task-priority triples. Each element in the input list is of the form `[userId, taskId, priority]`, which adds a task to the specified user with the given priority.\n\n  * `void add(int userId, int taskId, int priority)` adds a task with the specified `taskId` and `priority` to the user with `userId`. It is **guaranteed** that `taskId` does not _exist_ in the system.\n\n  * `void edit(int taskId, int newPriority)` updates the priority of the existing `taskId` to `newPriority`. It is **guaranteed** that `taskId` _exists_ in the system.\n\n  * `void rmv(int taskId)` removes the task identified by `taskId` from the system. It is **guaranteed** that `taskId` _exists_ in the system.\n\n  * `int execTop()` executes the task with the **highest** priority across all users. If there are multiple tasks with the same **highest** priority, execute the one with the highest `taskId`. After executing, the****`taskId`**** is **removed** from the system. Return the `userId` associated with the executed task. If no tasks are available, return -1.\n\n\n\n\n**Note** that a user may be assigned multiple tasks.\n\n \n\n**Example 1:**\n\n**Input:**  \n[\"TaskManager\", \"add\", \"edit\", \"execTop\", \"rmv\", \"add\", \"execTop\"]  \n[[[[1, 101, 10], [2, 102, 20], [3, 103, 15]]], [4, 104, 5], [102, 8], [], [101], [5, 105, 15], []]\n\n**Output:**  \n[null, null, null, 3, null, null, 5] \n\n**Explanation**\n\nTaskManager taskManager = new TaskManager([[1, 101, 10], [2, 102, 20], [3, 103, 15]]); // Initializes with three tasks for Users 1, 2, and 3.  \ntaskManager.add(4, 104, 5); // Adds task 104 with priority 5 for User 4.  \ntaskManager.edit(102, 8); // Updates priority of task 102 to 8.  \ntaskManager.execTop(); // return 3. Executes task 103 for User 3.  \ntaskManager.rmv(101); // Removes task 101 from the system.  \ntaskManager.add(5, 105, 15); // Adds task 105 with priority 15 for User 5.  \ntaskManager.execTop(); // return 5. Executes task 105 for User 5.\n\n \n\n**Constraints:**\n\n  * `1 <= tasks.length <= 105`\n  * `0 <= userId <= 105`\n  * `0 <= taskId <= 105`\n  * `0 <= priority <= 109`\n  * `0 <= newPriority <= 109`\n  * At most `2 * 105` calls will be made in **total** to `add`, `edit`, `rmv`, and `execTop` methods.\n  * The input is generated such that `taskId` will be valid.",
  "question": "There is a task management system that allows users to manage their tasks, each associated with a priority. The system should efficiently handle adding, modifying, executing, and removing tasks.\n\nImplement the `TaskManager` class:\n\n  * `TaskManager(vector<vector<int>>& tasks)` initializes the task manager with a list of user-task-priority triples. Each element in the input list is of the form `[userId, taskId, priority]`, which adds a task to the specified user with the given priority.\n\n  * `void add(int userId, int taskId, int priority)` adds a task with the specified `taskId` and `priority` to the user with `userId`. It is **guaranteed** that `taskId` does not _exist_ in the system.\n\n  * `void edit(int taskId, int newPriority)` updates the priority of the existing `taskId` to `newPriority`. It is **guaranteed** that `taskId` _exists_ in the system.\n\n  * `void rmv(int taskId)` removes the task identified by `taskId` from the system. It is **guaranteed** that `taskId` _exists_ in the system.\n\n  * `int execTop()` executes the task with the **highest** priority across all users. If there are multiple tasks with the same **highest** priority, execute the one with the highest `taskId`. After executing, the****`taskId`**** is **removed** from the system. Return the `userId` associated with the executed task. If no tasks are available, return -1.\n\n\n\n\n**Note** that a user may be assigned multiple tasks.",
  "examples": "**Example 1:**\n\n**Input:**  \n[\"TaskManager\", \"add\", \"edit\", \"execTop\", \"rmv\", \"add\", \"execTop\"]  \n[[[[1, 101, 10], [2, 102, 20], [3, 103, 15]]], [4, 104, 5], [102, 8], [], [101], [5, 105, 15], []]\n\n**Output:**  \n[null, null, null, 3, null, null, 5] \n\n**Explanation**\n\nTaskManager taskManager = new TaskManager([[1, 101, 10], [2, 102, 20], [3, 103, 15]]); // Initializes with three tasks for Users 1, 2, and 3.  \ntaskManager.add(4, 104, 5); // Adds task 104 with priority 5 for User 4.  \ntaskManager.edit(102, 8); // Updates priority of task 102 to 8.  \ntaskManager.execTop(); // return 3. Executes task 103 for User 3.  \ntaskManager.rmv(101); // Removes task 101 from the system.  \ntaskManager.add(5, 105, 15); // Adds task 105 with priority 15 for User 5.  \ntaskManager.execTop(); // return 5. Executes task 105 for User 5.",
  "constraints": "**Constraints:**\n\n  * `1 <= tasks.length <= 105`\n  * `0 <= userId <= 105`\n  * `0 <= taskId <= 105`\n  * `0 <= priority <= 109`\n  * `0 <= newPriority <= 109`\n  * At most `2 * 105` calls will be made in **total** to `add`, `edit`, `rmv`, and `execTop` methods.\n  * The input is generated such that `taskId` will be valid.",
  "topics": ["Hash Table", "Design", "Heap (Priority Queue)", "Ordered Set"],
  "total_accepted": 101330,
  "total_submissions": 206252,
  "acceptance_rate": "49.1%",
  "similar_questions": [],
  "hints": []
}
