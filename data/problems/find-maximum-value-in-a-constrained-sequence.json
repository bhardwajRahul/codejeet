{
  "id": "3796",
  "title": "Find Maximum Value in a Constrained Sequence",
  "slug": "find-maximum-value-in-a-constrained-sequence",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>You are given an integer <code>n</code>, a 2D integer array <code>restrictions</code>, and an integer array <code>diff</code> of length <code>n - 1</code>. Your task is to construct a sequence of length <code>n</code>, denoted by <code>a[0], a[1], ..., a[n - 1]</code>, such that it satisfies the following conditions:</p>\n\n<ul>\n\t<li><code>a[0]</code> is 0.</li>\n\t<li>All elements in the sequence are <strong>non-negative</strong>.</li>\n\t<li>For every index <code>i</code> (<code>0 &lt;= i &lt;= n - 2</code>), <code>abs(a[i] - a[i + 1]) &lt;= diff[i]</code>.</li>\n\t<li>For each <code>restrictions[i] = [idx, maxVal]</code>, the value at position <code>idx</code> in the sequence must not exceed <code>maxVal</code> (i.e., <code>a[idx] &lt;= maxVal</code>).</li>\n</ul>\n\n<p>Your goal is to construct a valid sequence that <strong>maximizes</strong> the <strong>largest</strong> value within the sequence while satisfying all the above conditions.</p>\n\n<p>Return an integer denoting the <strong>largest</strong> value present in such an optimal sequence.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">n = 10, restrictions = [[3,1],[8,1]], diff = [2,2,3,1,4,5,1,1,2]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">6</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The sequence <code>a = [0, 2, 4, 1, 2, 6, 2, 1, 1, 3]</code> satisfies the given constraints (<code>a[3] &lt;= 1</code> and <code>a[8] &lt;= 1</code>).</li>\n\t<li>The maximum value in the sequence is 6.</li>\n</ul>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">n = 8, restrictions = [[3,2]], diff = [3,5,2,4,2,3,1]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">12</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The sequence <code>a = [0, 3, 3, 2, 6, 8, 11, 12]</code> satisfies the given constraints (<code>a[3] &lt;= 2</code>).</li>\n\t<li>The maximum value in the sequence is 12.</li>\n</ul>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>2 &lt;= n &lt;= 10<sup>5</sup></code></li>\n\t<li><code>1 &lt;= restrictions.length &lt;= n - 1</code></li>\n\t<li><code>restrictions[i].length == 2</code></li>\n\t<li><code>restrictions[i] = [idx, maxVal]</code></li>\n\t<li><code>1 &lt;= idx &lt; n</code></li>\n\t<li><code>1 &lt;= maxVal &lt;= 10<sup>6</sup></code></li>\n\t<li><code>diff.length == n - 1</code></li>\n\t<li><code>1 &lt;= diff[i] &lt;= 10</code></li>\n\t<li>The values of <code>restrictions[i][0]</code> are unique.</li>\n</ul>\n",
  "content_markdown": "You are given an integer `n`, a 2D integer array `restrictions`, and an integer array `diff` of length `n - 1`. Your task is to construct a sequence of length `n`, denoted by `a[0], a[1], ..., a[n - 1]`, such that it satisfies the following conditions:\n\n  * `a[0]` is 0.\n  * All elements in the sequence are **non-negative**.\n  * For every index `i` (`0 <= i <= n - 2`), `abs(a[i] - a[i + 1]) <= diff[i]`.\n  * For each `restrictions[i] = [idx, maxVal]`, the value at position `idx` in the sequence must not exceed `maxVal` (i.e., `a[idx] <= maxVal`).\n\n\n\nYour goal is to construct a valid sequence that **maximizes** the **largest** value within the sequence while satisfying all the above conditions.\n\nReturn an integer denoting the **largest** value present in such an optimal sequence.\n\n \n\n**Example 1:**\n\n**Input:** n = 10, restrictions = [[3,1],[8,1]], diff = [2,2,3,1,4,5,1,1,2]\n\n**Output:** 6\n\n**Explanation:**\n\n  * The sequence `a = [0, 2, 4, 1, 2, 6, 2, 1, 1, 3]` satisfies the given constraints (`a[3] <= 1` and `a[8] <= 1`).\n  * The maximum value in the sequence is 6.\n\n\n\n**Example 2:**\n\n**Input:** n = 8, restrictions = [[3,2]], diff = [3,5,2,4,2,3,1]\n\n**Output:** 12\n\n**Explanation:**\n\n  * The sequence `a = [0, 3, 3, 2, 6, 8, 11, 12]` satisfies the given constraints (`a[3] <= 2`).\n  * The maximum value in the sequence is 12.\n\n\n\n \n\n**Constraints:**\n\n  * `2 <= n <= 105`\n  * `1 <= restrictions.length <= n - 1`\n  * `restrictions[i].length == 2`\n  * `restrictions[i] = [idx, maxVal]`\n  * `1 <= idx < n`\n  * `1 <= maxVal <= 106`\n  * `diff.length == n - 1`\n  * `1 <= diff[i] <= 10`\n  * The values of `restrictions[i][0]` are unique.",
  "question": "You are given an integer `n`, a 2D integer array `restrictions`, and an integer array `diff` of length `n - 1`. Your task is to construct a sequence of length `n`, denoted by `a[0], a[1], ..., a[n - 1]`, such that it satisfies the following conditions:\n\n  * `a[0]` is 0.\n  * All elements in the sequence are **non-negative**.\n  * For every index `i` (`0 <= i <= n - 2`), `abs(a[i] - a[i + 1]) <= diff[i]`.\n  * For each `restrictions[i] = [idx, maxVal]`, the value at position `idx` in the sequence must not exceed `maxVal` (i.e., `a[idx] <= maxVal`).\n\n\n\nYour goal is to construct a valid sequence that **maximizes** the **largest** value within the sequence while satisfying all the above conditions.\n\nReturn an integer denoting the **largest** value present in such an optimal sequence.",
  "examples": "**Example 1:**\n\n**Input:** n = 10, restrictions = [[3,1],[8,1]], diff = [2,2,3,1,4,5,1,1,2]\n\n**Output:** 6\n\n**Explanation:**\n\n  * The sequence `a = [0, 2, 4, 1, 2, 6, 2, 1, 1, 3]` satisfies the given constraints (`a[3] <= 1` and `a[8] <= 1`).\n  * The maximum value in the sequence is 6.\n\n\n\n**Example 2:**\n\n**Input:** n = 8, restrictions = [[3,2]], diff = [3,5,2,4,2,3,1]\n\n**Output:** 12\n\n**Explanation:**\n\n  * The sequence `a = [0, 3, 3, 2, 6, 8, 11, 12]` satisfies the given constraints (`a[3] <= 2`).\n  * The maximum value in the sequence is 12.",
  "constraints": "**Constraints:**\n\n  * `2 <= n <= 105`\n  * `1 <= restrictions.length <= n - 1`\n  * `restrictions[i].length == 2`\n  * `restrictions[i] = [idx, maxVal]`\n  * `1 <= idx < n`\n  * `1 <= maxVal <= 106`\n  * `diff.length == n - 1`\n  * `1 <= diff[i] <= 10`\n  * The values of `restrictions[i][0]` are unique.",
  "topics": ["Array", "Greedy"],
  "total_accepted": 12809,
  "total_submissions": 20602,
  "acceptance_rate": "62.2%",
  "similar_questions": [
    {
      "title": "Maximum Building Height",
      "slug": "maximum-building-height",
      "difficulty": "Hard",
      "url": "https://leetcode.com/problems/maximum-building-height/"
    }
  ],
  "hints": [
    "The problem can be solved greedily.",
    "Any restriction at index <code>i</code> also indirectly limits nearby positions due to the cumulative <code>diff</code> bounds.",
    "The maximum possible value at each index is the minimum of all bounds propagated from the left and from the right.",
    "Once all upper bounds are fixed, the answer is simply the maximum value among them."
  ]
}
