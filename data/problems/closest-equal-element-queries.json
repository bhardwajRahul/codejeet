{
  "id": "3488",
  "title": "Closest Equal Element Queries",
  "slug": "closest-equal-element-queries",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>You are given a <strong>circular</strong> array <code>nums</code> and an array <code>queries</code>.</p>\n\n<p>For each query <code>i</code>, you have to find the following:</p>\n\n<ul>\n\t<li>The <strong>minimum</strong> distance between the element at index <code>queries[i]</code> and <strong>any</strong> other index <code>j</code> in the <strong>circular</strong> array, where <code>nums[j] == nums[queries[i]]</code>. If no such index exists, the answer for that query should be -1.</li>\n</ul>\n\n<p>Return an array <code>answer</code> of the <strong>same</strong> size as <code>queries</code>, where <code>answer[i]</code> represents the result for query <code>i</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">nums = [1,3,1,4,1,3,2], queries = [0,3,5]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">[2,-1,3]</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>Query 0: The element at <code>queries[0] = 0</code> is <code>nums[0] = 1</code>. The nearest index with the same value is 2, and the distance between them is 2.</li>\n\t<li>Query 1: The element at <code>queries[1] = 3</code> is <code>nums[3] = 4</code>. No other index contains 4, so the result is -1.</li>\n\t<li>Query 2: The element at <code>queries[2] = 5</code> is <code>nums[5] = 3</code>. The nearest index with the same value is 1, and the distance between them is 3 (following the circular path: <code>5 -&gt; 6 -&gt; 0 -&gt; 1</code>).</li>\n</ul>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">nums = [1,2,3,4], queries = [0,1,2,3]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">[-1,-1,-1,-1]</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Each value in <code>nums</code> is unique, so no index shares the same value as the queried element. This results in -1 for all queries.</p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= queries.length &lt;= nums.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>1 &lt;= nums[i] &lt;= 10<sup>6</sup></code></li>\n\t<li><code>0 &lt;= queries[i] &lt; nums.length</code></li>\n</ul>\n",
  "content_markdown": "You are given a **circular** array `nums` and an array `queries`.\n\nFor each query `i`, you have to find the following:\n\n  * The **minimum** distance between the element at index `queries[i]` and **any** other index `j` in the **circular** array, where `nums[j] == nums[queries[i]]`. If no such index exists, the answer for that query should be -1.\n\n\n\nReturn an array `answer` of the **same** size as `queries`, where `answer[i]` represents the result for query `i`.\n\n \n\n**Example 1:**\n\n**Input:** nums = [1,3,1,4,1,3,2], queries = [0,3,5]\n\n**Output:** [2,-1,3]\n\n**Explanation:**\n\n  * Query 0: The element at `queries[0] = 0` is `nums[0] = 1`. The nearest index with the same value is 2, and the distance between them is 2.\n  * Query 1: The element at `queries[1] = 3` is `nums[3] = 4`. No other index contains 4, so the result is -1.\n  * Query 2: The element at `queries[2] = 5` is `nums[5] = 3`. The nearest index with the same value is 1, and the distance between them is 3 (following the circular path: `5 -> 6 -> 0 -> 1`).\n\n\n\n**Example 2:**\n\n**Input:** nums = [1,2,3,4], queries = [0,1,2,3]\n\n**Output:** [-1,-1,-1,-1]\n\n**Explanation:**\n\nEach value in `nums` is unique, so no index shares the same value as the queried element. This results in -1 for all queries.\n\n \n\n**Constraints:**\n\n  * `1 <= queries.length <= nums.length <= 105`\n  * `1 <= nums[i] <= 106`\n  * `0 <= queries[i] < nums.length`",
  "question": "You are given a **circular** array `nums` and an array `queries`.\n\nFor each query `i`, you have to find the following:\n\n  * The **minimum** distance between the element at index `queries[i]` and **any** other index `j` in the **circular** array, where `nums[j] == nums[queries[i]]`. If no such index exists, the answer for that query should be -1.\n\n\n\nReturn an array `answer` of the **same** size as `queries`, where `answer[i]` represents the result for query `i`.",
  "examples": "**Example 1:**\n\n**Input:** nums = [1,3,1,4,1,3,2], queries = [0,3,5]\n\n**Output:** [2,-1,3]\n\n**Explanation:**\n\n  * Query 0: The element at `queries[0] = 0` is `nums[0] = 1`. The nearest index with the same value is 2, and the distance between them is 2.\n  * Query 1: The element at `queries[1] = 3` is `nums[3] = 4`. No other index contains 4, so the result is -1.\n  * Query 2: The element at `queries[2] = 5` is `nums[5] = 3`. The nearest index with the same value is 1, and the distance between them is 3 (following the circular path: `5 -> 6 -> 0 -> 1`).\n\n\n\n**Example 2:**\n\n**Input:** nums = [1,2,3,4], queries = [0,1,2,3]\n\n**Output:** [-1,-1,-1,-1]\n\n**Explanation:**\n\nEach value in `nums` is unique, so no index shares the same value as the queried element. This results in -1 for all queries.",
  "constraints": "**Constraints:**\n\n  * `1 <= queries.length <= nums.length <= 105`\n  * `1 <= nums[i] <= 106`\n  * `0 <= queries[i] < nums.length`",
  "topics": ["Array", "Hash Table", "Binary Search"],
  "total_accepted": 21523,
  "total_submissions": 65665,
  "acceptance_rate": "32.8%",
  "similar_questions": [],
  "hints": [
    "Use a dictionary that maps each unique value in the array to a sorted list of its indices.",
    "For each query, use binary search on the sorted indices list to find the nearest occurrences of the target value."
  ]
}
