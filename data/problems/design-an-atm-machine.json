{
  "id": "2241",
  "title": "Design an ATM Machine",
  "slug": "design-an-atm-machine",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>There is an ATM machine that stores banknotes of <code>5</code> denominations: <code>20</code>, <code>50</code>, <code>100</code>, <code>200</code>, and <code>500</code> dollars. Initially the ATM is empty. The user can use the machine to deposit or withdraw any amount of money.</p>\n\n<p>When withdrawing, the machine prioritizes using banknotes of <strong>larger</strong> values.</p>\n\n<ul>\n\t<li>For example, if you want to withdraw <code>$300</code> and there are <code>2</code> <code>$50</code> banknotes, <code>1</code> <code>$100</code> banknote, and <code>1</code> <code>$200</code> banknote, then the machine will use the <code>$100</code> and <code>$200</code> banknotes.</li>\n\t<li>However, if you try to withdraw <code>$600</code> and there are <code>3</code> <code>$200</code> banknotes and <code>1</code> <code>$500</code> banknote, then the withdraw request will be rejected because the machine will first try to use the <code>$500</code> banknote and then be unable to use banknotes to complete the remaining <code>$100</code>. Note that the machine is <strong>not</strong> allowed to use the <code>$200</code> banknotes instead of the <code>$500</code> banknote.</li>\n</ul>\n\n<p>Implement the ATM class:</p>\n\n<ul>\n\t<li><code>ATM()</code> Initializes the ATM object.</li>\n\t<li><code>void deposit(int[] banknotesCount)</code> Deposits new banknotes in the order <code>$20</code>, <code>$50</code>, <code>$100</code>, <code>$200</code>, and <code>$500</code>.</li>\n\t<li><code>int[] withdraw(int amount)</code> Returns an array of length <code>5</code> of the number of banknotes that will be handed to the user in the order <code>$20</code>, <code>$50</code>, <code>$100</code>, <code>$200</code>, and <code>$500</code>, and update the number of banknotes in the ATM after withdrawing. Returns <code>[-1]</code> if it is not possible (do <strong>not</strong> withdraw any banknotes in this case).</li>\n</ul>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input</strong>\n[&quot;ATM&quot;, &quot;deposit&quot;, &quot;withdraw&quot;, &quot;deposit&quot;, &quot;withdraw&quot;, &quot;withdraw&quot;]\n[[], [[0,0,1,2,1]], [600], [[0,1,0,1,1]], [600], [550]]\n<strong>Output</strong>\n[null, null, [0,0,1,0,1], null, [-1], [0,1,0,0,1]]\n\n<strong>Explanation</strong>\nATM atm = new ATM();\natm.deposit([0,0,1,2,1]); // Deposits 1 $100 banknote, 2 $200 banknotes,\n                          // and 1 $500 banknote.\natm.withdraw(600);        // Returns [0,0,1,0,1]. The machine uses 1 $100 banknote\n                          // and 1 $500 banknote. The banknotes left over in the\n                          // machine are [0,0,0,2,0].\natm.deposit([0,1,0,1,1]); // Deposits 1 $50, $200, and $500 banknote.\n                          // The banknotes in the machine are now [0,1,0,3,1].\natm.withdraw(600);        // Returns [-1]. The machine will try to use a $500 banknote\n                          // and then be unable to complete the remaining $100,\n                          // so the withdraw request will be rejected.\n                          // Since the request is rejected, the number of banknotes\n                          // in the machine is not modified.\natm.withdraw(550);        // Returns [0,1,0,0,1]. The machine uses 1 $50 banknote\n                          // and 1 $500 banknote.</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>banknotesCount.length == 5</code></li>\n\t<li><code>0 &lt;= banknotesCount[i] &lt;= 10<sup>9</sup></code></li>\n\t<li><code>1 &lt;= amount &lt;= 10<sup>9</sup></code></li>\n\t<li>At most <code>5000</code> calls <strong>in total</strong> will be made to <code>withdraw</code> and <code>deposit</code>.</li>\n\t<li>At least <strong>one</strong> call will be made to each function <code>withdraw</code> and <code>deposit</code>.</li>\n\t<li>Sum of <code>banknotesCount[i]</code> in all deposits doesn&#39;t exceed <code>10<sup>9</sup></code></li>\n</ul>\n",
  "content_markdown": "There is an ATM machine that stores banknotes of `5` denominations: `20`, `50`, `100`, `200`, and `500` dollars. Initially the ATM is empty. The user can use the machine to deposit or withdraw any amount of money.\n\nWhen withdrawing, the machine prioritizes using banknotes of **larger** values.\n\n  * For example, if you want to withdraw `$300` and there are `2` `$50` banknotes, `1` `$100` banknote, and `1` `$200` banknote, then the machine will use the `$100` and `$200` banknotes.\n  * However, if you try to withdraw `$600` and there are `3` `$200` banknotes and `1` `$500` banknote, then the withdraw request will be rejected because the machine will first try to use the `$500` banknote and then be unable to use banknotes to complete the remaining `$100`. Note that the machine is **not** allowed to use the `$200` banknotes instead of the `$500` banknote.\n\n\n\nImplement the ATM class:\n\n  * `ATM()` Initializes the ATM object.\n  * `void deposit(int[] banknotesCount)` Deposits new banknotes in the order `$20`, `$50`, `$100`, `$200`, and `$500`.\n  * `int[] withdraw(int amount)` Returns an array of length `5` of the number of banknotes that will be handed to the user in the order `$20`, `$50`, `$100`, `$200`, and `$500`, and update the number of banknotes in the ATM after withdrawing. Returns `[-1]` if it is not possible (do **not** withdraw any banknotes in this case).\n\n\n\n \n\n**Example 1:**\n    \n    \n    **Input**\n    [\"ATM\", \"deposit\", \"withdraw\", \"deposit\", \"withdraw\", \"withdraw\"]\n    [[], [[0,0,1,2,1]], [600], [[0,1,0,1,1]], [600], [550]]\n    **Output**\n    [null, null, [0,0,1,0,1], null, [-1], [0,1,0,0,1]]\n    \n    **Explanation**\n    ATM atm = new ATM();\n    atm.deposit([0,0,1,2,1]); // Deposits 1 $100 banknote, 2 $200 banknotes,\n                              // and 1 $500 banknote.\n    atm.withdraw(600);        // Returns [0,0,1,0,1]. The machine uses 1 $100 banknote\n                              // and 1 $500 banknote. The banknotes left over in the\n                              // machine are [0,0,0,2,0].\n    atm.deposit([0,1,0,1,1]); // Deposits 1 $50, $200, and $500 banknote.\n                              // The banknotes in the machine are now [0,1,0,3,1].\n    atm.withdraw(600);        // Returns [-1]. The machine will try to use a $500 banknote\n                              // and then be unable to complete the remaining $100,\n                              // so the withdraw request will be rejected.\n                              // Since the request is rejected, the number of banknotes\n                              // in the machine is not modified.\n    atm.withdraw(550);        // Returns [0,1,0,0,1]. The machine uses 1 $50 banknote\n                              // and 1 $500 banknote.\n\n \n\n**Constraints:**\n\n  * `banknotesCount.length == 5`\n  * `0 <= banknotesCount[i] <= 109`\n  * `1 <= amount <= 109`\n  * At most `5000` calls **in total** will be made to `withdraw` and `deposit`.\n  * At least **one** call will be made to each function `withdraw` and `deposit`.\n  * Sum of `banknotesCount[i]` in all deposits doesn't exceed `109`",
  "question": "There is an ATM machine that stores banknotes of `5` denominations: `20`, `50`, `100`, `200`, and `500` dollars. Initially the ATM is empty. The user can use the machine to deposit or withdraw any amount of money.\n\nWhen withdrawing, the machine prioritizes using banknotes of **larger** values.\n\n  * For example, if you want to withdraw `$300` and there are `2` `$50` banknotes, `1` `$100` banknote, and `1` `$200` banknote, then the machine will use the `$100` and `$200` banknotes.\n  * However, if you try to withdraw `$600` and there are `3` `$200` banknotes and `1` `$500` banknote, then the withdraw request will be rejected because the machine will first try to use the `$500` banknote and then be unable to use banknotes to complete the remaining `$100`. Note that the machine is **not** allowed to use the `$200` banknotes instead of the `$500` banknote.\n\n\n\nImplement the ATM class:\n\n  * `ATM()` Initializes the ATM object.\n  * `void deposit(int[] banknotesCount)` Deposits new banknotes in the order `$20`, `$50`, `$100`, `$200`, and `$500`.\n  * `int[] withdraw(int amount)` Returns an array of length `5` of the number of banknotes that will be handed to the user in the order `$20`, `$50`, `$100`, `$200`, and `$500`, and update the number of banknotes in the ATM after withdrawing. Returns `[-1]` if it is not possible (do **not** withdraw any banknotes in this case).",
  "examples": "**Example 1:**\n    \n    \n    **Input**\n    [\"ATM\", \"deposit\", \"withdraw\", \"deposit\", \"withdraw\", \"withdraw\"]\n    [[], [[0,0,1,2,1]], [600], [[0,1,0,1,1]], [600], [550]]\n    **Output**\n    [null, null, [0,0,1,0,1], null, [-1], [0,1,0,0,1]]\n    \n    **Explanation**\n    ATM atm = new ATM();\n    atm.deposit([0,0,1,2,1]); // Deposits 1 $100 banknote, 2 $200 banknotes,\n                              // and 1 $500 banknote.\n    atm.withdraw(600);        // Returns [0,0,1,0,1]. The machine uses 1 $100 banknote\n                              // and 1 $500 banknote. The banknotes left over in the\n                              // machine are [0,0,0,2,0].\n    atm.deposit([0,1,0,1,1]); // Deposits 1 $50, $200, and $500 banknote.\n                              // The banknotes in the machine are now [0,1,0,3,1].\n    atm.withdraw(600);        // Returns [-1]. The machine will try to use a $500 banknote\n                              // and then be unable to complete the remaining $100,\n                              // so the withdraw request will be rejected.\n                              // Since the request is rejected, the number of banknotes\n                              // in the machine is not modified.\n    atm.withdraw(550);        // Returns [0,1,0,0,1]. The machine uses 1 $50 banknote\n                              // and 1 $500 banknote.",
  "constraints": "**Constraints:**\n\n  * `banknotesCount.length == 5`\n  * `0 <= banknotesCount[i] <= 109`\n  * `1 <= amount <= 109`\n  * At most `5000` calls **in total** will be made to `withdraw` and `deposit`.\n  * At least **one** call will be made to each function `withdraw` and `deposit`.\n  * Sum of `banknotesCount[i]` in all deposits doesn't exceed `109`",
  "topics": ["Array", "Greedy", "Design"],
  "total_accepted": 34349,
  "total_submissions": 77051,
  "acceptance_rate": "44.6%",
  "similar_questions": [
    {
      "title": "Simple Bank System",
      "slug": "simple-bank-system",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/simple-bank-system/"
    },
    {
      "title": "Minimum Number of Operations to Convert Time",
      "slug": "minimum-number-of-operations-to-convert-time",
      "difficulty": "Easy",
      "url": "https://leetcode.com/problems/minimum-number-of-operations-to-convert-time/"
    }
  ],
  "hints": [
    "Store the number of banknotes of each denomination.",
    "Can you use math to quickly evaluate a withdrawal request?"
  ]
}
