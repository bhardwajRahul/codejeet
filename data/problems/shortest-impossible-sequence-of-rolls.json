{
  "id": "2350",
  "title": "Shortest Impossible Sequence of Rolls",
  "slug": "shortest-impossible-sequence-of-rolls",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p>You are given an integer array <code>rolls</code> of length <code>n</code> and an integer <code>k</code>. You roll a <code>k</code> sided dice numbered from <code>1</code> to <code>k</code>, <code>n</code> times, where the result of the <code>i<sup>th</sup></code> roll is <code>rolls[i]</code>.</p>\n\n<p>Return<em> the length of the <strong>shortest</strong> sequence of rolls so that there&#39;s no such <span data-keyword=\"subsequence-array\">subsequence</span> in </em><code>rolls</code>.</p>\n\n<p>A <strong>sequence of rolls</strong> of length <code>len</code> is the result of rolling a <code>k</code> sided dice <code>len</code> times.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> rolls = [4,2,1,2,3,3,2,4,1], k = 4\n<strong>Output:</strong> 3\n<strong>Explanation:</strong> Every sequence of rolls of length 1, [1], [2], [3], [4], can be taken from rolls.\nEvery sequence of rolls of length 2, [1, 1], [1, 2], ..., [4, 4], can be taken from rolls.\nThe sequence [1, 4, 2] cannot be taken from rolls, so we return 3.\nNote that there are other sequences that cannot be taken from rolls.</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> rolls = [1,1,2,2], k = 2\n<strong>Output:</strong> 2\n<strong>Explanation:</strong> Every sequence of rolls of length 1, [1], [2], can be taken from rolls.\nThe sequence [2, 1] cannot be taken from rolls, so we return 2.\nNote that there are other sequences that cannot be taken from rolls but [2, 1] is the shortest.\n</pre>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<pre>\n<strong>Input:</strong> rolls = [1,1,3,2,2,2,3,3], k = 4\n<strong>Output:</strong> 1\n<strong>Explanation:</strong> The sequence [4] cannot be taken from rolls, so we return 1.\nNote that there are other sequences that cannot be taken from rolls but [4] is the shortest.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == rolls.length</code></li>\n\t<li><code>1 &lt;= n &lt;= 10<sup>5</sup></code></li>\n\t<li><code>1 &lt;= rolls[i] &lt;= k &lt;= 10<sup>5</sup></code></li>\n</ul>\n",
  "content_markdown": "You are given an integer array `rolls` of length `n` and an integer `k`. You roll a `k` sided dice numbered from `1` to `k`, `n` times, where the result of the `ith` roll is `rolls[i]`.\n\nReturn _the length of the**shortest** sequence of rolls so that there's no such subsequence in _`rolls`.\n\nA **sequence of rolls** of length `len` is the result of rolling a `k` sided dice `len` times.\n\n \n\n**Example 1:**\n    \n    \n    **Input:** rolls = [4,2,1,2,3,3,2,4,1], k = 4\n    **Output:** 3\n    **Explanation:** Every sequence of rolls of length 1, [1], [2], [3], [4], can be taken from rolls.\n    Every sequence of rolls of length 2, [1, 1], [1, 2], ..., [4, 4], can be taken from rolls.\n    The sequence [1, 4, 2] cannot be taken from rolls, so we return 3.\n    Note that there are other sequences that cannot be taken from rolls.\n\n**Example 2:**\n    \n    \n    **Input:** rolls = [1,1,2,2], k = 2\n    **Output:** 2\n    **Explanation:** Every sequence of rolls of length 1, [1], [2], can be taken from rolls.\n    The sequence [2, 1] cannot be taken from rolls, so we return 2.\n    Note that there are other sequences that cannot be taken from rolls but [2, 1] is the shortest.\n    \n\n**Example 3:**\n    \n    \n    **Input:** rolls = [1,1,3,2,2,2,3,3], k = 4\n    **Output:** 1\n    **Explanation:** The sequence [4] cannot be taken from rolls, so we return 1.\n    Note that there are other sequences that cannot be taken from rolls but [4] is the shortest.\n    \n\n \n\n**Constraints:**\n\n  * `n == rolls.length`\n  * `1 <= n <= 105`\n  * `1 <= rolls[i] <= k <= 105`",
  "question": "You are given an integer array `rolls` of length `n` and an integer `k`. You roll a `k` sided dice numbered from `1` to `k`, `n` times, where the result of the `ith` roll is `rolls[i]`.\n\nReturn _the length of the**shortest** sequence of rolls so that there's no such subsequence in _`rolls`.\n\nA **sequence of rolls** of length `len` is the result of rolling a `k` sided dice `len` times.",
  "examples": "**Example 1:**\n    \n    \n    **Input:** rolls = [4,2,1,2,3,3,2,4,1], k = 4\n    **Output:** 3\n    **Explanation:** Every sequence of rolls of length 1, [1], [2], [3], [4], can be taken from rolls.\n    Every sequence of rolls of length 2, [1, 1], [1, 2], ..., [4, 4], can be taken from rolls.\n    The sequence [1, 4, 2] cannot be taken from rolls, so we return 3.\n    Note that there are other sequences that cannot be taken from rolls.\n\n**Example 2:**\n    \n    \n    **Input:** rolls = [1,1,2,2], k = 2\n    **Output:** 2\n    **Explanation:** Every sequence of rolls of length 1, [1], [2], can be taken from rolls.\n    The sequence [2, 1] cannot be taken from rolls, so we return 2.\n    Note that there are other sequences that cannot be taken from rolls but [2, 1] is the shortest.\n    \n\n**Example 3:**\n    \n    \n    **Input:** rolls = [1,1,3,2,2,2,3,3], k = 4\n    **Output:** 1\n    **Explanation:** The sequence [4] cannot be taken from rolls, so we return 1.\n    Note that there are other sequences that cannot be taken from rolls but [4] is the shortest.",
  "constraints": "**Constraints:**\n\n  * `n == rolls.length`\n  * `1 <= n <= 105`\n  * `1 <= rolls[i] <= k <= 105`",
  "topics": ["Array", "Hash Table", "Greedy"],
  "total_accepted": 18866,
  "total_submissions": 27246,
  "acceptance_rate": "69.2%",
  "similar_questions": [],
  "hints": [
    "How can you find the minimum index such that all sequences of length 1 can be formed from the start until that index?",
    "Starting from the previous minimum index, what is the next index such that all sequences of length 2 can be formed?",
    "Can you extend the idea to sequences of length 3 and more?"
  ]
}
