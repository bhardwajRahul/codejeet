{
  "id": "3277",
  "title": "Maximum XOR Score Subarray Queries",
  "slug": "maximum-xor-score-subarray-queries",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p>You are given an array <code>nums</code> of <code>n</code> integers, and a 2D integer array <code>queries</code> of size <code>q</code>, where <code>queries[i] = [l<sub>i</sub>, r<sub>i</sub>]</code>.</p>\n\n<p>For each query, you must find the <strong>maximum XOR score</strong> of any <span data-keyword=\"subarray\">subarray</span> of <code>nums[l<sub>i</sub>..r<sub>i</sub>]</code>.</p>\n\n<p>The <strong>XOR score</strong> of an array <code>a</code> is found by repeatedly applying the following operations on <code>a</code> so that only one element remains, that is the <strong>score</strong>:</p>\n\n<ul>\n\t<li>Simultaneously replace <code>a[i]</code> with <code>a[i] XOR a[i + 1]</code> for all indices <code>i</code> except the last one.</li>\n\t<li>Remove the last element of <code>a</code>.</li>\n</ul>\n\n<p>Return an array <code>answer</code> of size <code>q</code> where <code>answer[i]</code> is the answer to query <code>i</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">nums = [2,8,4,32,16,1], queries = [[0,2],[1,4],[0,5]]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">[12,60,60]</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>In the first query, <code>nums[0..2]</code> has 6 subarrays <code>[2]</code>, <code>[8]</code>, <code>[4]</code>, <code>[2, 8]</code>, <code>[8, 4]</code>, and <code>[2, 8, 4]</code> each with a respective XOR score of 2, 8, 4, 10, 12, and 6. The answer for the query is 12, the largest of all XOR scores.</p>\n\n<p>In the second query, the subarray of <code>nums[1..4]</code> with the largest XOR score is <code>nums[1..4]</code> with a score of 60.</p>\n\n<p>In the third query, the subarray of <code>nums[0..5]</code> with the largest XOR score is <code>nums[1..4]</code> with a score of 60.</p>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">nums = [0,7,3,2,8,5,1], queries = [[0,3],[1,5],[2,4],[2,6],[5,6]]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">[7,14,11,14,5]</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<table height=\"70\" width=\"472\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Index</th>\n\t\t\t<th>nums[l<sub>i</sub>..r<sub>i</sub>]</th>\n\t\t\t<th>Maximum XOR Score Subarray</th>\n\t\t\t<th>Maximum Subarray XOR Score</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>0</td>\n\t\t\t<td>[0, 7, 3, 2]</td>\n\t\t\t<td>[7]</td>\n\t\t\t<td>7</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>1</td>\n\t\t\t<td>[7, 3, 2, 8, 5]</td>\n\t\t\t<td>[7, 3, 2, 8]</td>\n\t\t\t<td>14</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>2</td>\n\t\t\t<td>[3, 2, 8]</td>\n\t\t\t<td>[3, 2, 8]</td>\n\t\t\t<td>11</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>3</td>\n\t\t\t<td>[3, 2, 8, 5, 1]</td>\n\t\t\t<td>[2, 8, 5, 1]</td>\n\t\t\t<td>14</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>4</td>\n\t\t\t<td>[5, 1]</td>\n\t\t\t<td>[5]</td>\n\t\t\t<td>5</td>\n\t\t</tr>\n\t</tbody>\n</table>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= n == nums.length &lt;= 2000</code></li>\n\t<li><code>0 &lt;= nums[i] &lt;= 2<sup>31</sup> - 1</code></li>\n\t<li><code>1 &lt;= q == queries.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>queries[i].length == 2 </code></li>\n\t<li><code>queries[i] = [l<sub>i</sub>, r<sub>i</sub>]</code></li>\n\t<li><code>0 &lt;= l<sub>i</sub> &lt;= r<sub>i</sub> &lt;= n - 1</code></li>\n</ul>\n",
  "content_markdown": "You are given an array `nums` of `n` integers, and a 2D integer array `queries` of size `q`, where `queries[i] = [li, ri]`.\n\nFor each query, you must find the **maximum XOR score** of any subarray of `nums[li..ri]`.\n\nThe **XOR score** of an array `a` is found by repeatedly applying the following operations on `a` so that only one element remains, that is the **score** :\n\n  * Simultaneously replace `a[i]` with `a[i] XOR a[i + 1]` for all indices `i` except the last one.\n  * Remove the last element of `a`.\n\n\n\nReturn an array `answer` of size `q` where `answer[i]` is the answer to query `i`.\n\n \n\n**Example 1:**\n\n**Input:** nums = [2,8,4,32,16,1], queries = [[0,2],[1,4],[0,5]]\n\n**Output:** [12,60,60]\n\n**Explanation:**\n\nIn the first query, `nums[0..2]` has 6 subarrays `[2]`, `[8]`, `[4]`, `[2, 8]`, `[8, 4]`, and `[2, 8, 4]` each with a respective XOR score of 2, 8, 4, 10, 12, and 6. The answer for the query is 12, the largest of all XOR scores.\n\nIn the second query, the subarray of `nums[1..4]` with the largest XOR score is `nums[1..4]` with a score of 60.\n\nIn the third query, the subarray of `nums[0..5]` with the largest XOR score is `nums[1..4]` with a score of 60.\n\n**Example 2:**\n\n**Input:** nums = [0,7,3,2,8,5,1], queries = [[0,3],[1,5],[2,4],[2,6],[5,6]]\n\n**Output:** [7,14,11,14,5]\n\n**Explanation:**\n\nIndex | nums[li..ri] | Maximum XOR Score Subarray | Maximum Subarray XOR Score  \n---|---|---|---  \n0 | [0, 7, 3, 2] | [7] | 7  \n1 | [7, 3, 2, 8, 5] | [7, 3, 2, 8] | 14  \n2 | [3, 2, 8] | [3, 2, 8] | 11  \n3 | [3, 2, 8, 5, 1] | [2, 8, 5, 1] | 14  \n4 | [5, 1] | [5] | 5  \n  \n \n\n**Constraints:**\n\n  * `1 <= n == nums.length <= 2000`\n  * `0 <= nums[i] <= 231 - 1`\n  * `1 <= q == queries.length <= 105`\n  * `queries[i].length == 2 `\n  * `queries[i] = [li, ri]`\n  * `0 <= li <= ri <= n - 1`",
  "question": "You are given an array `nums` of `n` integers, and a 2D integer array `queries` of size `q`, where `queries[i] = [li, ri]`.\n\nFor each query, you must find the **maximum XOR score** of any subarray of `nums[li..ri]`.\n\nThe **XOR score** of an array `a` is found by repeatedly applying the following operations on `a` so that only one element remains, that is the **score** :\n\n  * Simultaneously replace `a[i]` with `a[i] XOR a[i + 1]` for all indices `i` except the last one.\n  * Remove the last element of `a`.\n\n\n\nReturn an array `answer` of size `q` where `answer[i]` is the answer to query `i`.",
  "examples": "**Example 1:**\n\n**Input:** nums = [2,8,4,32,16,1], queries = [[0,2],[1,4],[0,5]]\n\n**Output:** [12,60,60]\n\n**Explanation:**\n\nIn the first query, `nums[0..2]` has 6 subarrays `[2]`, `[8]`, `[4]`, `[2, 8]`, `[8, 4]`, and `[2, 8, 4]` each with a respective XOR score of 2, 8, 4, 10, 12, and 6. The answer for the query is 12, the largest of all XOR scores.\n\nIn the second query, the subarray of `nums[1..4]` with the largest XOR score is `nums[1..4]` with a score of 60.\n\nIn the third query, the subarray of `nums[0..5]` with the largest XOR score is `nums[1..4]` with a score of 60.\n\n**Example 2:**\n\n**Input:** nums = [0,7,3,2,8,5,1], queries = [[0,3],[1,5],[2,4],[2,6],[5,6]]\n\n**Output:** [7,14,11,14,5]\n\n**Explanation:**\n\nIndex | nums[li..ri] | Maximum XOR Score Subarray | Maximum Subarray XOR Score  \n---|---|---|---  \n0 | [0, 7, 3, 2] | [7] | 7  \n1 | [7, 3, 2, 8, 5] | [7, 3, 2, 8] | 14  \n2 | [3, 2, 8] | [3, 2, 8] | 11  \n3 | [3, 2, 8, 5, 1] | [2, 8, 5, 1] | 14  \n4 | [5, 1] | [5] | 5",
  "constraints": "**Constraints:**\n\n  * `1 <= n == nums.length <= 2000`\n  * `0 <= nums[i] <= 231 - 1`\n  * `1 <= q == queries.length <= 105`\n  * `queries[i].length == 2 `\n  * `queries[i] = [li, ri]`\n  * `0 <= li <= ri <= n - 1`",
  "topics": ["Array", "Dynamic Programming"],
  "total_accepted": 5458,
  "total_submissions": 12498,
  "acceptance_rate": "43.7%",
  "similar_questions": [
    {
      "title": "Make the XOR of All Segments Equal to Zero",
      "slug": "make-the-xor-of-all-segments-equal-to-zero",
      "difficulty": "Hard",
      "url": "https://leetcode.com/problems/make-the-xor-of-all-segments-equal-to-zero/"
    }
  ],
  "hints": [
    "Precompute the XOR score of every subarray.",
    "Try to find a relationship between XOR score of <code>nums[i..j], nums[i..j + 1], nums[i..j + 2], …</code>. Do you notice any pattern?",
    "If <code>dp[i][j]</code> is the XOR score of subarray <code>nums[i..j]</code>, <code>dp[i][j] = dp[i - 1][j] XOR dp[i - 1][j + 1]</code>."
  ]
}
