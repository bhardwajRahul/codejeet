{
  "id": "1600",
  "title": "Throne Inheritance",
  "slug": "throne-inheritance",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>A kingdom consists of a king, his children, his grandchildren, and so on. Every once in a while, someone in the family dies or a child is born.</p>\n\n<p>The kingdom has a well-defined order of inheritance that consists of the king as the first member. Let&#39;s define the recursive function <code>Successor(x, curOrder)</code>, which given a person <code>x</code> and the inheritance order so far, returns who should be the next person after <code>x</code> in the order of inheritance.</p>\n\n<pre>\nSuccessor(x, curOrder):\n    if x has no children or all of x&#39;s children are in curOrder:\n        if x is the king return null\n        else return Successor(x&#39;s parent, curOrder)\n    else return x&#39;s oldest child who&#39;s not in curOrder\n</pre>\n\n<p>For example, assume we have a kingdom that consists of the king, his children Alice and Bob (Alice is older than Bob), and finally Alice&#39;s son Jack.</p>\n\n<ol>\n\t<li>In the beginning, <code>curOrder</code> will be <code>[&quot;king&quot;]</code>.</li>\n\t<li>Calling <code>Successor(king, curOrder)</code> will return Alice, so we append to <code>curOrder</code> to get <code>[&quot;king&quot;, &quot;Alice&quot;]</code>.</li>\n\t<li>Calling <code>Successor(Alice, curOrder)</code> will return Jack, so we append to <code>curOrder</code> to get <code>[&quot;king&quot;, &quot;Alice&quot;, &quot;Jack&quot;]</code>.</li>\n\t<li>Calling <code>Successor(Jack, curOrder)</code> will return Bob, so we append to <code>curOrder</code> to get <code>[&quot;king&quot;, &quot;Alice&quot;, &quot;Jack&quot;, &quot;Bob&quot;]</code>.</li>\n\t<li>Calling <code>Successor(Bob, curOrder)</code> will return <code>null</code>. Thus the order of inheritance will be <code>[&quot;king&quot;, &quot;Alice&quot;, &quot;Jack&quot;, &quot;Bob&quot;]</code>.</li>\n</ol>\n\n<p>Using the above function, we can always obtain a unique order of inheritance.</p>\n\n<p>Implement the <code>ThroneInheritance</code> class:</p>\n\n<ul>\n\t<li><code>ThroneInheritance(string kingName)</code> Initializes an object of the <code>ThroneInheritance</code> class. The name of the king is given as part of the constructor.</li>\n\t<li><code>void birth(string parentName, string childName)</code> Indicates that <code>parentName</code> gave birth to <code>childName</code>.</li>\n\t<li><code>void death(string name)</code> Indicates the death of <code>name</code>. The death of the person doesn&#39;t affect the <code>Successor</code> function nor the current inheritance order. You can treat it as just marking the person as dead.</li>\n\t<li><code>string[] getInheritanceOrder()</code> Returns a list representing the current order of inheritance <strong>excluding</strong> dead people.</li>\n</ul>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input</strong>\n[&quot;ThroneInheritance&quot;, &quot;birth&quot;, &quot;birth&quot;, &quot;birth&quot;, &quot;birth&quot;, &quot;birth&quot;, &quot;birth&quot;, &quot;getInheritanceOrder&quot;, &quot;death&quot;, &quot;getInheritanceOrder&quot;]\n[[&quot;king&quot;], [&quot;king&quot;, &quot;andy&quot;], [&quot;king&quot;, &quot;bob&quot;], [&quot;king&quot;, &quot;catherine&quot;], [&quot;andy&quot;, &quot;matthew&quot;], [&quot;bob&quot;, &quot;alex&quot;], [&quot;bob&quot;, &quot;asha&quot;], [null], [&quot;bob&quot;], [null]]\n<strong>Output</strong>\n[null, null, null, null, null, null, null, [&quot;king&quot;, &quot;andy&quot;, &quot;matthew&quot;, &quot;bob&quot;, &quot;alex&quot;, &quot;asha&quot;, &quot;catherine&quot;], null, [&quot;king&quot;, &quot;andy&quot;, &quot;matthew&quot;, &quot;alex&quot;, &quot;asha&quot;, &quot;catherine&quot;]]\n\n<strong>Explanation</strong>\nThroneInheritance t= new ThroneInheritance(&quot;king&quot;); // order: <strong>king</strong>\nt.birth(&quot;king&quot;, &quot;andy&quot;); // order: king &gt; <strong>andy</strong>\nt.birth(&quot;king&quot;, &quot;bob&quot;); // order: king &gt; andy &gt; <strong>bob</strong>\nt.birth(&quot;king&quot;, &quot;catherine&quot;); // order: king &gt; andy &gt; bob &gt; <strong>catherine</strong>\nt.birth(&quot;andy&quot;, &quot;matthew&quot;); // order: king &gt; andy &gt; <strong>matthew</strong> &gt; bob &gt; catherine\nt.birth(&quot;bob&quot;, &quot;alex&quot;); // order: king &gt; andy &gt; matthew &gt; bob &gt; <strong>alex</strong> &gt; catherine\nt.birth(&quot;bob&quot;, &quot;asha&quot;); // order: king &gt; andy &gt; matthew &gt; bob &gt; alex &gt; <strong>asha</strong> &gt; catherine\nt.getInheritanceOrder(); // return [&quot;king&quot;, &quot;andy&quot;, &quot;matthew&quot;, &quot;bob&quot;, &quot;alex&quot;, &quot;asha&quot;, &quot;catherine&quot;]\nt.death(&quot;bob&quot;); // order: king &gt; andy &gt; matthew &gt; <strong><s>bob</s></strong> &gt; alex &gt; asha &gt; catherine\nt.getInheritanceOrder(); // return [&quot;king&quot;, &quot;andy&quot;, &quot;matthew&quot;, &quot;alex&quot;, &quot;asha&quot;, &quot;catherine&quot;]\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= kingName.length, parentName.length, childName.length, name.length &lt;= 15</code></li>\n\t<li><code>kingName</code>, <code>parentName</code>, <code>childName</code>, and <code>name</code> consist of lowercase English letters only.</li>\n\t<li>All arguments <code>childName</code> and <code>kingName</code> are <strong>distinct</strong>.</li>\n\t<li>All <code>name</code> arguments of <code>death</code> will be passed to either the constructor or as <code>childName</code> to <code>birth</code> first.</li>\n\t<li>For each call to&nbsp;<code>birth(parentName, childName)</code>, it is guaranteed that&nbsp;<code>parentName</code> is alive.</li>\n\t<li>At most <code>10<sup>5</sup></code> calls will be made to <code>birth</code> and <code>death</code>.</li>\n\t<li>At most <code>10</code> calls will be made to <code>getInheritanceOrder</code>.</li>\n</ul>\n",
  "content_markdown": "A kingdom consists of a king, his children, his grandchildren, and so on. Every once in a while, someone in the family dies or a child is born.\n\nThe kingdom has a well-defined order of inheritance that consists of the king as the first member. Let's define the recursive function `Successor(x, curOrder)`, which given a person `x` and the inheritance order so far, returns who should be the next person after `x` in the order of inheritance.\n    \n    \n    Successor(x, curOrder):\n        if x has no children or all of x's children are in curOrder:\n            if x is the king return null\n            else return Successor(x's parent, curOrder)\n        else return x's oldest child who's not in curOrder\n    \n\nFor example, assume we have a kingdom that consists of the king, his children Alice and Bob (Alice is older than Bob), and finally Alice's son Jack.\n\n  1. In the beginning, `curOrder` will be `[\"king\"]`.\n  2. Calling `Successor(king, curOrder)` will return Alice, so we append to `curOrder` to get `[\"king\", \"Alice\"]`.\n  3. Calling `Successor(Alice, curOrder)` will return Jack, so we append to `curOrder` to get `[\"king\", \"Alice\", \"Jack\"]`.\n  4. Calling `Successor(Jack, curOrder)` will return Bob, so we append to `curOrder` to get `[\"king\", \"Alice\", \"Jack\", \"Bob\"]`.\n  5. Calling `Successor(Bob, curOrder)` will return `null`. Thus the order of inheritance will be `[\"king\", \"Alice\", \"Jack\", \"Bob\"]`.\n\n\n\nUsing the above function, we can always obtain a unique order of inheritance.\n\nImplement the `ThroneInheritance` class:\n\n  * `ThroneInheritance(string kingName)` Initializes an object of the `ThroneInheritance` class. The name of the king is given as part of the constructor.\n  * `void birth(string parentName, string childName)` Indicates that `parentName` gave birth to `childName`.\n  * `void death(string name)` Indicates the death of `name`. The death of the person doesn't affect the `Successor` function nor the current inheritance order. You can treat it as just marking the person as dead.\n  * `string[] getInheritanceOrder()` Returns a list representing the current order of inheritance **excluding** dead people.\n\n\n\n \n\n**Example 1:**\n    \n    \n    **Input**\n    [\"ThroneInheritance\", \"birth\", \"birth\", \"birth\", \"birth\", \"birth\", \"birth\", \"getInheritanceOrder\", \"death\", \"getInheritanceOrder\"]\n    [[\"king\"], [\"king\", \"andy\"], [\"king\", \"bob\"], [\"king\", \"catherine\"], [\"andy\", \"matthew\"], [\"bob\", \"alex\"], [\"bob\", \"asha\"], [null], [\"bob\"], [null]]\n    **Output**\n    [null, null, null, null, null, null, null, [\"king\", \"andy\", \"matthew\", \"bob\", \"alex\", \"asha\", \"catherine\"], null, [\"king\", \"andy\", \"matthew\", \"alex\", \"asha\", \"catherine\"]]\n    \n    **Explanation**\n    ThroneInheritance t= new ThroneInheritance(\"king\"); // order: **king**\n    t.birth(\"king\", \"andy\"); // order: king > **andy**\n    t.birth(\"king\", \"bob\"); // order: king > andy > **bob**\n    t.birth(\"king\", \"catherine\"); // order: king > andy > bob > **catherine**\n    t.birth(\"andy\", \"matthew\"); // order: king > andy > **matthew** > bob > catherine\n    t.birth(\"bob\", \"alex\"); // order: king > andy > matthew > bob > **alex** > catherine\n    t.birth(\"bob\", \"asha\"); // order: king > andy > matthew > bob > alex > **asha** > catherine\n    t.getInheritanceOrder(); // return [\"king\", \"andy\", \"matthew\", \"bob\", \"alex\", \"asha\", \"catherine\"]\n    t.death(\"bob\"); // order: king > andy > matthew > **~~bob~~** > alex > asha > catherine\n    t.getInheritanceOrder(); // return [\"king\", \"andy\", \"matthew\", \"alex\", \"asha\", \"catherine\"]\n    \n\n \n\n**Constraints:**\n\n  * `1 <= kingName.length, parentName.length, childName.length, name.length <= 15`\n  * `kingName`, `parentName`, `childName`, and `name` consist of lowercase English letters only.\n  * All arguments `childName` and `kingName` are **distinct**.\n  * All `name` arguments of `death` will be passed to either the constructor or as `childName` to `birth` first.\n  * For each call to `birth(parentName, childName)`, it is guaranteed that `parentName` is alive.\n  * At most `105` calls will be made to `birth` and `death`.\n  * At most `10` calls will be made to `getInheritanceOrder`.",
  "question": "A kingdom consists of a king, his children, his grandchildren, and so on. Every once in a while, someone in the family dies or a child is born.\n\nThe kingdom has a well-defined order of inheritance that consists of the king as the first member. Let's define the recursive function `Successor(x, curOrder)`, which given a person `x` and the inheritance order so far, returns who should be the next person after `x` in the order of inheritance.\n    \n    \n    Successor(x, curOrder):\n        if x has no children or all of x's children are in curOrder:\n            if x is the king return null\n            else return Successor(x's parent, curOrder)\n        else return x's oldest child who's not in curOrder\n    \n\nFor example, assume we have a kingdom that consists of the king, his children Alice and Bob (Alice is older than Bob), and finally Alice's son Jack.\n\n  1. In the beginning, `curOrder` will be `[\"king\"]`.\n  2. Calling `Successor(king, curOrder)` will return Alice, so we append to `curOrder` to get `[\"king\", \"Alice\"]`.\n  3. Calling `Successor(Alice, curOrder)` will return Jack, so we append to `curOrder` to get `[\"king\", \"Alice\", \"Jack\"]`.\n  4. Calling `Successor(Jack, curOrder)` will return Bob, so we append to `curOrder` to get `[\"king\", \"Alice\", \"Jack\", \"Bob\"]`.\n  5. Calling `Successor(Bob, curOrder)` will return `null`. Thus the order of inheritance will be `[\"king\", \"Alice\", \"Jack\", \"Bob\"]`.\n\n\n\nUsing the above function, we can always obtain a unique order of inheritance.\n\nImplement the `ThroneInheritance` class:\n\n  * `ThroneInheritance(string kingName)` Initializes an object of the `ThroneInheritance` class. The name of the king is given as part of the constructor.\n  * `void birth(string parentName, string childName)` Indicates that `parentName` gave birth to `childName`.\n  * `void death(string name)` Indicates the death of `name`. The death of the person doesn't affect the `Successor` function nor the current inheritance order. You can treat it as just marking the person as dead.\n  * `string[] getInheritanceOrder()` Returns a list representing the current order of inheritance **excluding** dead people.",
  "examples": "**Example 1:**\n    \n    \n    **Input**\n    [\"ThroneInheritance\", \"birth\", \"birth\", \"birth\", \"birth\", \"birth\", \"birth\", \"getInheritanceOrder\", \"death\", \"getInheritanceOrder\"]\n    [[\"king\"], [\"king\", \"andy\"], [\"king\", \"bob\"], [\"king\", \"catherine\"], [\"andy\", \"matthew\"], [\"bob\", \"alex\"], [\"bob\", \"asha\"], [null], [\"bob\"], [null]]\n    **Output**\n    [null, null, null, null, null, null, null, [\"king\", \"andy\", \"matthew\", \"bob\", \"alex\", \"asha\", \"catherine\"], null, [\"king\", \"andy\", \"matthew\", \"alex\", \"asha\", \"catherine\"]]\n    \n    **Explanation**\n    ThroneInheritance t= new ThroneInheritance(\"king\"); // order: **king**\n    t.birth(\"king\", \"andy\"); // order: king > **andy**\n    t.birth(\"king\", \"bob\"); // order: king > andy > **bob**\n    t.birth(\"king\", \"catherine\"); // order: king > andy > bob > **catherine**\n    t.birth(\"andy\", \"matthew\"); // order: king > andy > **matthew** > bob > catherine\n    t.birth(\"bob\", \"alex\"); // order: king > andy > matthew > bob > **alex** > catherine\n    t.birth(\"bob\", \"asha\"); // order: king > andy > matthew > bob > alex > **asha** > catherine\n    t.getInheritanceOrder(); // return [\"king\", \"andy\", \"matthew\", \"bob\", \"alex\", \"asha\", \"catherine\"]\n    t.death(\"bob\"); // order: king > andy > matthew > **~~bob~~** > alex > asha > catherine\n    t.getInheritanceOrder(); // return [\"king\", \"andy\", \"matthew\", \"alex\", \"asha\", \"catherine\"]",
  "constraints": "**Constraints:**\n\n  * `1 <= kingName.length, parentName.length, childName.length, name.length <= 15`\n  * `kingName`, `parentName`, `childName`, and `name` consist of lowercase English letters only.\n  * All arguments `childName` and `kingName` are **distinct**.\n  * All `name` arguments of `death` will be passed to either the constructor or as `childName` to `birth` first.\n  * For each call to `birth(parentName, childName)`, it is guaranteed that `parentName` is alive.\n  * At most `105` calls will be made to `birth` and `death`.\n  * At most `10` calls will be made to `getInheritanceOrder`.",
  "topics": ["Hash Table", "Tree", "Depth-First Search", "Design"],
  "total_accepted": 27378,
  "total_submissions": 40952,
  "acceptance_rate": "66.9%",
  "similar_questions": [
    {
      "title": "Operations on Tree",
      "slug": "operations-on-tree",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/operations-on-tree/"
    }
  ],
  "hints": [
    "Create a tree structure of the family.",
    "Without deaths, the order of inheritance is simply a pre-order traversal of the tree.",
    "Mark the dead family members tree nodes and don't include them in the final order."
  ]
}
