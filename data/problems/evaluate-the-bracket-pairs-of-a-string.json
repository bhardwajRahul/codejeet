{
  "id": "1807",
  "title": "Evaluate the Bracket Pairs of a String",
  "slug": "evaluate-the-bracket-pairs-of-a-string",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>You are given a string <code>s</code> that contains some bracket pairs, with each pair containing a <strong>non-empty</strong> key.</p>\n\n<ul>\n\t<li>For example, in the string <code>&quot;(name)is(age)yearsold&quot;</code>, there are <strong>two</strong> bracket pairs that contain the keys <code>&quot;name&quot;</code> and <code>&quot;age&quot;</code>.</li>\n</ul>\n\n<p>You know the values of a wide range of keys. This is represented by a 2D string array <code>knowledge</code> where each <code>knowledge[i] = [key<sub>i</sub>, value<sub>i</sub>]</code> indicates that key <code>key<sub>i</sub></code> has a value of <code>value<sub>i</sub></code>.</p>\n\n<p>You are tasked to evaluate <strong>all</strong> of the bracket pairs. When you evaluate a bracket pair that contains some key <code>key<sub>i</sub></code>, you will:</p>\n\n<ul>\n\t<li>Replace <code>key<sub>i</sub></code> and the bracket pair with the key&#39;s corresponding <code>value<sub>i</sub></code>.</li>\n\t<li>If you do not know the value of the key, you will replace <code>key<sub>i</sub></code> and the bracket pair with a question mark <code>&quot;?&quot;</code> (without the quotation marks).</li>\n</ul>\n\n<p>Each key will appear at most once in your <code>knowledge</code>. There will not be any nested brackets in <code>s</code>.</p>\n\n<p>Return <em>the resulting string after evaluating <strong>all</strong> of the bracket pairs.</em></p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> s = &quot;(name)is(age)yearsold&quot;, knowledge = [[&quot;name&quot;,&quot;bob&quot;],[&quot;age&quot;,&quot;two&quot;]]\n<strong>Output:</strong> &quot;bobistwoyearsold&quot;\n<strong>Explanation:</strong>\nThe key &quot;name&quot; has a value of &quot;bob&quot;, so replace &quot;(name)&quot; with &quot;bob&quot;.\nThe key &quot;age&quot; has a value of &quot;two&quot;, so replace &quot;(age)&quot; with &quot;two&quot;.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> s = &quot;hi(name)&quot;, knowledge = [[&quot;a&quot;,&quot;b&quot;]]\n<strong>Output:</strong> &quot;hi?&quot;\n<strong>Explanation:</strong> As you do not know the value of the key &quot;name&quot;, replace &quot;(name)&quot; with &quot;?&quot;.\n</pre>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<pre>\n<strong>Input:</strong> s = &quot;(a)(a)(a)aaa&quot;, knowledge = [[&quot;a&quot;,&quot;yes&quot;]]\n<strong>Output:</strong> &quot;yesyesyesaaa&quot;\n<strong>Explanation:</strong> The same key can appear multiple times.\nThe key &quot;a&quot; has a value of &quot;yes&quot;, so replace all occurrences of &quot;(a)&quot; with &quot;yes&quot;.\nNotice that the &quot;a&quot;s not in a bracket pair are not evaluated.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= s.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>0 &lt;= knowledge.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>knowledge[i].length == 2</code></li>\n\t<li><code>1 &lt;= key<sub>i</sub>.length, value<sub>i</sub>.length &lt;= 10</code></li>\n\t<li><code>s</code> consists of lowercase English letters and round brackets <code>&#39;(&#39;</code> and <code>&#39;)&#39;</code>.</li>\n\t<li>Every open bracket <code>&#39;(&#39;</code> in <code>s</code> will have a corresponding close bracket <code>&#39;)&#39;</code>.</li>\n\t<li>The key in each bracket pair of <code>s</code> will be non-empty.</li>\n\t<li>There will not be any nested bracket pairs in <code>s</code>.</li>\n\t<li><code>key<sub>i</sub></code> and <code>value<sub>i</sub></code> consist of lowercase English letters.</li>\n\t<li>Each <code>key<sub>i</sub></code> in <code>knowledge</code> is unique.</li>\n</ul>\n",
  "content_markdown": "You are given a string `s` that contains some bracket pairs, with each pair containing a **non-empty** key.\n\n  * For example, in the string `\"(name)is(age)yearsold\"`, there are **two** bracket pairs that contain the keys `\"name\"` and `\"age\"`.\n\n\n\nYou know the values of a wide range of keys. This is represented by a 2D string array `knowledge` where each `knowledge[i] = [keyi, valuei]` indicates that key `keyi` has a value of `valuei`.\n\nYou are tasked to evaluate **all** of the bracket pairs. When you evaluate a bracket pair that contains some key `keyi`, you will:\n\n  * Replace `keyi` and the bracket pair with the key's corresponding `valuei`.\n  * If you do not know the value of the key, you will replace `keyi` and the bracket pair with a question mark `\"?\"` (without the quotation marks).\n\n\n\nEach key will appear at most once in your `knowledge`. There will not be any nested brackets in `s`.\n\nReturn _the resulting string after evaluating**all** of the bracket pairs._\n\n \n\n**Example 1:**\n    \n    \n    **Input:** s = \"(name)is(age)yearsold\", knowledge = [[\"name\",\"bob\"],[\"age\",\"two\"]]\n    **Output:** \"bobistwoyearsold\"\n    **Explanation:**\n    The key \"name\" has a value of \"bob\", so replace \"(name)\" with \"bob\".\n    The key \"age\" has a value of \"two\", so replace \"(age)\" with \"two\".\n    \n\n**Example 2:**\n    \n    \n    **Input:** s = \"hi(name)\", knowledge = [[\"a\",\"b\"]]\n    **Output:** \"hi?\"\n    **Explanation:** As you do not know the value of the key \"name\", replace \"(name)\" with \"?\".\n    \n\n**Example 3:**\n    \n    \n    **Input:** s = \"(a)(a)(a)aaa\", knowledge = [[\"a\",\"yes\"]]\n    **Output:** \"yesyesyesaaa\"\n    **Explanation:** The same key can appear multiple times.\n    The key \"a\" has a value of \"yes\", so replace all occurrences of \"(a)\" with \"yes\".\n    Notice that the \"a\"s not in a bracket pair are not evaluated.\n    \n\n \n\n**Constraints:**\n\n  * `1 <= s.length <= 105`\n  * `0 <= knowledge.length <= 105`\n  * `knowledge[i].length == 2`\n  * `1 <= keyi.length, valuei.length <= 10`\n  * `s` consists of lowercase English letters and round brackets `'('` and `')'`.\n  * Every open bracket `'('` in `s` will have a corresponding close bracket `')'`.\n  * The key in each bracket pair of `s` will be non-empty.\n  * There will not be any nested bracket pairs in `s`.\n  * `keyi` and `valuei` consist of lowercase English letters.\n  * Each `keyi` in `knowledge` is unique.",
  "question": "You are given a string `s` that contains some bracket pairs, with each pair containing a **non-empty** key.\n\n  * For example, in the string `\"(name)is(age)yearsold\"`, there are **two** bracket pairs that contain the keys `\"name\"` and `\"age\"`.\n\n\n\nYou know the values of a wide range of keys. This is represented by a 2D string array `knowledge` where each `knowledge[i] = [keyi, valuei]` indicates that key `keyi` has a value of `valuei`.\n\nYou are tasked to evaluate **all** of the bracket pairs. When you evaluate a bracket pair that contains some key `keyi`, you will:\n\n  * Replace `keyi` and the bracket pair with the key's corresponding `valuei`.\n  * If you do not know the value of the key, you will replace `keyi` and the bracket pair with a question mark `\"?\"` (without the quotation marks).\n\n\n\nEach key will appear at most once in your `knowledge`. There will not be any nested brackets in `s`.\n\nReturn _the resulting string after evaluating**all** of the bracket pairs._",
  "examples": "**Example 1:**\n    \n    \n    **Input:** s = \"(name)is(age)yearsold\", knowledge = [[\"name\",\"bob\"],[\"age\",\"two\"]]\n    **Output:** \"bobistwoyearsold\"\n    **Explanation:**\n    The key \"name\" has a value of \"bob\", so replace \"(name)\" with \"bob\".\n    The key \"age\" has a value of \"two\", so replace \"(age)\" with \"two\".\n    \n\n**Example 2:**\n    \n    \n    **Input:** s = \"hi(name)\", knowledge = [[\"a\",\"b\"]]\n    **Output:** \"hi?\"\n    **Explanation:** As you do not know the value of the key \"name\", replace \"(name)\" with \"?\".\n    \n\n**Example 3:**\n    \n    \n    **Input:** s = \"(a)(a)(a)aaa\", knowledge = [[\"a\",\"yes\"]]\n    **Output:** \"yesyesyesaaa\"\n    **Explanation:** The same key can appear multiple times.\n    The key \"a\" has a value of \"yes\", so replace all occurrences of \"(a)\" with \"yes\".\n    Notice that the \"a\"s not in a bracket pair are not evaluated.",
  "constraints": "**Constraints:**\n\n  * `1 <= s.length <= 105`\n  * `0 <= knowledge.length <= 105`\n  * `knowledge[i].length == 2`\n  * `1 <= keyi.length, valuei.length <= 10`\n  * `s` consists of lowercase English letters and round brackets `'('` and `')'`.\n  * Every open bracket `'('` in `s` will have a corresponding close bracket `')'`.\n  * The key in each bracket pair of `s` will be non-empty.\n  * There will not be any nested bracket pairs in `s`.\n  * `keyi` and `valuei` consist of lowercase English letters.\n  * Each `keyi` in `knowledge` is unique.",
  "topics": ["Array", "Hash Table", "String"],
  "total_accepted": 41151,
  "total_submissions": 59394,
  "acceptance_rate": "69.3%",
  "similar_questions": [
    {
      "title": "Apply Substitutions",
      "slug": "apply-substitutions",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/apply-substitutions/"
    }
  ],
  "hints": [
    "Process pairs from right to left to handle repeats",
    "Keep track of the current enclosed string using another string"
  ]
}
