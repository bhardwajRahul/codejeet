{
  "id": "1639",
  "title": "Number of Ways to Form a Target String Given a Dictionary",
  "slug": "number-of-ways-to-form-a-target-string-given-a-dictionary",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p>You are given a list of strings of the <strong>same length</strong> <code>words</code> and a string <code>target</code>.</p>\n\n<p>Your task is to form <code>target</code> using the given <code>words</code> under the following rules:</p>\n\n<ul>\n\t<li><code>target</code> should be formed from left to right.</li>\n\t<li>To form the <code>i<sup>th</sup></code> character (<strong>0-indexed</strong>) of <code>target</code>, you can choose the <code>k<sup>th</sup></code> character of the <code>j<sup>th</sup></code> string in <code>words</code> if <code>target[i] = words[j][k]</code>.</li>\n\t<li>Once you use the <code>k<sup>th</sup></code> character of the <code>j<sup>th</sup></code> string of <code>words</code>, you <strong>can no longer</strong> use the <code>x<sup>th</sup></code> character of any string in <code>words</code> where <code>x &lt;= k</code>. In other words, all characters to the left of or at index <code>k</code> become unusuable for every string.</li>\n\t<li>Repeat the process until you form the string <code>target</code>.</li>\n</ul>\n\n<p><strong>Notice</strong> that you can use <strong>multiple characters</strong> from the <strong>same string</strong> in <code>words</code> provided the conditions above are met.</p>\n\n<p>Return <em>the number of ways to form <code>target</code> from <code>words</code></em>. Since the answer may be too large, return it <strong>modulo</strong> <code>10<sup>9</sup> + 7</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> words = [&quot;acca&quot;,&quot;bbbb&quot;,&quot;caca&quot;], target = &quot;aba&quot;\n<strong>Output:</strong> 6\n<strong>Explanation:</strong> There are 6 ways to form target.\n&quot;aba&quot; -&gt; index 0 (&quot;<u>a</u>cca&quot;), index 1 (&quot;b<u>b</u>bb&quot;), index 3 (&quot;cac<u>a</u>&quot;)\n&quot;aba&quot; -&gt; index 0 (&quot;<u>a</u>cca&quot;), index 2 (&quot;bb<u>b</u>b&quot;), index 3 (&quot;cac<u>a</u>&quot;)\n&quot;aba&quot; -&gt; index 0 (&quot;<u>a</u>cca&quot;), index 1 (&quot;b<u>b</u>bb&quot;), index 3 (&quot;acc<u>a</u>&quot;)\n&quot;aba&quot; -&gt; index 0 (&quot;<u>a</u>cca&quot;), index 2 (&quot;bb<u>b</u>b&quot;), index 3 (&quot;acc<u>a</u>&quot;)\n&quot;aba&quot; -&gt; index 1 (&quot;c<u>a</u>ca&quot;), index 2 (&quot;bb<u>b</u>b&quot;), index 3 (&quot;acc<u>a</u>&quot;)\n&quot;aba&quot; -&gt; index 1 (&quot;c<u>a</u>ca&quot;), index 2 (&quot;bb<u>b</u>b&quot;), index 3 (&quot;cac<u>a</u>&quot;)\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> words = [&quot;abba&quot;,&quot;baab&quot;], target = &quot;bab&quot;\n<strong>Output:</strong> 4\n<strong>Explanation:</strong> There are 4 ways to form target.\n&quot;bab&quot; -&gt; index 0 (&quot;<u>b</u>aab&quot;), index 1 (&quot;b<u>a</u>ab&quot;), index 2 (&quot;ab<u>b</u>a&quot;)\n&quot;bab&quot; -&gt; index 0 (&quot;<u>b</u>aab&quot;), index 1 (&quot;b<u>a</u>ab&quot;), index 3 (&quot;baa<u>b</u>&quot;)\n&quot;bab&quot; -&gt; index 0 (&quot;<u>b</u>aab&quot;), index 2 (&quot;ba<u>a</u>b&quot;), index 3 (&quot;baa<u>b</u>&quot;)\n&quot;bab&quot; -&gt; index 1 (&quot;a<u>b</u>ba&quot;), index 2 (&quot;ba<u>a</u>b&quot;), index 3 (&quot;baa<u>b</u>&quot;)\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= words.length &lt;= 1000</code></li>\n\t<li><code>1 &lt;= words[i].length &lt;= 1000</code></li>\n\t<li>All strings in <code>words</code> have the same length.</li>\n\t<li><code>1 &lt;= target.length &lt;= 1000</code></li>\n\t<li><code>words[i]</code> and <code>target</code> contain only lowercase English letters.</li>\n</ul>\n",
  "content_markdown": "You are given a list of strings of the **same length** `words` and a string `target`.\n\nYour task is to form `target` using the given `words` under the following rules:\n\n  * `target` should be formed from left to right.\n  * To form the `ith` character (**0-indexed**) of `target`, you can choose the `kth` character of the `jth` string in `words` if `target[i] = words[j][k]`.\n  * Once you use the `kth` character of the `jth` string of `words`, you **can no longer** use the `xth` character of any string in `words` where `x <= k`. In other words, all characters to the left of or at index `k` become unusuable for every string.\n  * Repeat the process until you form the string `target`.\n\n\n\n**Notice** that you can use **multiple characters** from the **same string** in `words` provided the conditions above are met.\n\nReturn _the number of ways to form`target` from `words`_. Since the answer may be too large, return it **modulo** `109 + 7`.\n\n \n\n**Example 1:**\n    \n    \n    **Input:** words = [\"acca\",\"bbbb\",\"caca\"], target = \"aba\"\n    **Output:** 6\n    **Explanation:** There are 6 ways to form target.\n    \"aba\" -> index 0 (\"_a_ cca\"), index 1 (\"b _b_ bb\"), index 3 (\"cac _a_ \")\n    \"aba\" -> index 0 (\"_a_ cca\"), index 2 (\"bb _b_ b\"), index 3 (\"cac _a_ \")\n    \"aba\" -> index 0 (\"_a_ cca\"), index 1 (\"b _b_ bb\"), index 3 (\"acc _a_ \")\n    \"aba\" -> index 0 (\"_a_ cca\"), index 2 (\"bb _b_ b\"), index 3 (\"acc _a_ \")\n    \"aba\" -> index 1 (\"c _a_ ca\"), index 2 (\"bb _b_ b\"), index 3 (\"acc _a_ \")\n    \"aba\" -> index 1 (\"c _a_ ca\"), index 2 (\"bb _b_ b\"), index 3 (\"cac _a_ \")\n    \n\n**Example 2:**\n    \n    \n    **Input:** words = [\"abba\",\"baab\"], target = \"bab\"\n    **Output:** 4\n    **Explanation:** There are 4 ways to form target.\n    \"bab\" -> index 0 (\"_b_ aab\"), index 1 (\"b _a_ ab\"), index 2 (\"ab _b_ a\")\n    \"bab\" -> index 0 (\"_b_ aab\"), index 1 (\"b _a_ ab\"), index 3 (\"baa _b_ \")\n    \"bab\" -> index 0 (\"_b_ aab\"), index 2 (\"ba _a_ b\"), index 3 (\"baa _b_ \")\n    \"bab\" -> index 1 (\"a _b_ ba\"), index 2 (\"ba _a_ b\"), index 3 (\"baa _b_ \")\n    \n\n \n\n**Constraints:**\n\n  * `1 <= words.length <= 1000`\n  * `1 <= words[i].length <= 1000`\n  * All strings in `words` have the same length.\n  * `1 <= target.length <= 1000`\n  * `words[i]` and `target` contain only lowercase English letters.",
  "question": "You are given a list of strings of the **same length** `words` and a string `target`.\n\nYour task is to form `target` using the given `words` under the following rules:\n\n  * `target` should be formed from left to right.\n  * To form the `ith` character (**0-indexed**) of `target`, you can choose the `kth` character of the `jth` string in `words` if `target[i] = words[j][k]`.\n  * Once you use the `kth` character of the `jth` string of `words`, you **can no longer** use the `xth` character of any string in `words` where `x <= k`. In other words, all characters to the left of or at index `k` become unusuable for every string.\n  * Repeat the process until you form the string `target`.\n\n\n\n**Notice** that you can use **multiple characters** from the **same string** in `words` provided the conditions above are met.\n\nReturn _the number of ways to form`target` from `words`_. Since the answer may be too large, return it **modulo** `109 + 7`.",
  "examples": "**Example 1:**\n    \n    \n    **Input:** words = [\"acca\",\"bbbb\",\"caca\"], target = \"aba\"\n    **Output:** 6\n    **Explanation:** There are 6 ways to form target.\n    \"aba\" -> index 0 (\"_a_ cca\"), index 1 (\"b _b_ bb\"), index 3 (\"cac _a_ \")\n    \"aba\" -> index 0 (\"_a_ cca\"), index 2 (\"bb _b_ b\"), index 3 (\"cac _a_ \")\n    \"aba\" -> index 0 (\"_a_ cca\"), index 1 (\"b _b_ bb\"), index 3 (\"acc _a_ \")\n    \"aba\" -> index 0 (\"_a_ cca\"), index 2 (\"bb _b_ b\"), index 3 (\"acc _a_ \")\n    \"aba\" -> index 1 (\"c _a_ ca\"), index 2 (\"bb _b_ b\"), index 3 (\"acc _a_ \")\n    \"aba\" -> index 1 (\"c _a_ ca\"), index 2 (\"bb _b_ b\"), index 3 (\"cac _a_ \")\n    \n\n**Example 2:**\n    \n    \n    **Input:** words = [\"abba\",\"baab\"], target = \"bab\"\n    **Output:** 4\n    **Explanation:** There are 4 ways to form target.\n    \"bab\" -> index 0 (\"_b_ aab\"), index 1 (\"b _a_ ab\"), index 2 (\"ab _b_ a\")\n    \"bab\" -> index 0 (\"_b_ aab\"), index 1 (\"b _a_ ab\"), index 3 (\"baa _b_ \")\n    \"bab\" -> index 0 (\"_b_ aab\"), index 2 (\"ba _a_ b\"), index 3 (\"baa _b_ \")\n    \"bab\" -> index 1 (\"a _b_ ba\"), index 2 (\"ba _a_ b\"), index 3 (\"baa _b_ \")",
  "constraints": "**Constraints:**\n\n  * `1 <= words.length <= 1000`\n  * `1 <= words[i].length <= 1000`\n  * All strings in `words` have the same length.\n  * `1 <= target.length <= 1000`\n  * `words[i]` and `target` contain only lowercase English letters.",
  "topics": ["Array", "String", "Dynamic Programming"],
  "total_accepted": 133139,
  "total_submissions": 235068,
  "acceptance_rate": "56.6%",
  "similar_questions": [],
  "hints": [
    "For each index i, store the frequency of each character in the ith row.",
    "Use dynamic programing to calculate the number of ways to get the target string using the frequency array."
  ]
}
