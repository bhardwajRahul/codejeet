{
  "id": "3319",
  "title": "K-th Largest Perfect Subtree Size in Binary Tree",
  "slug": "k-th-largest-perfect-subtree-size-in-binary-tree",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>You are given the <code>root</code> of a <strong>binary tree</strong> and an integer <code>k</code>.</p>\n\n<p>Return an integer denoting the size of the <code>k<sup>th</sup></code> <strong>largest<em> </em>perfect binary</strong><em> </em><span data-keyword=\"subtree\">subtree</span>, or <code>-1</code> if it doesn&#39;t exist.</p>\n\n<p>A <strong>perfect binary tree</strong> is a tree where all leaves are on the same level, and every parent has two children.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">root = [5,3,6,5,2,5,7,1,8,null,null,6,8], k = 2</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">3</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><img alt=\"\" src=\"https://assets.leetcode.com/uploads/2024/10/14/tmpresl95rp-1.png\" style=\"width: 400px; height: 173px;\" /></p>\n\n<p>The roots of the perfect binary subtrees are highlighted in black. Their sizes, in non-increasing order are <code>[3, 3, 1, 1, 1, 1, 1, 1]</code>.<br />\nThe <code>2<sup>nd</sup></code> largest size is 3.</p>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">root = [1,2,3,4,5,6,7], k = 1</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">7</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><img alt=\"\" src=\"https://assets.leetcode.com/uploads/2024/10/14/tmp_s508x9e-1.png\" style=\"width: 300px; height: 189px;\" /></p>\n\n<p>The sizes of the perfect binary subtrees in non-increasing order are <code>[7, 3, 3, 1, 1, 1, 1]</code>. The size of the largest perfect binary subtree is 7.</p>\n</div>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">root = [1,2,3,null,4], k = 3</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">-1</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><img alt=\"\" src=\"https://assets.leetcode.com/uploads/2024/10/14/tmp74xnmpj4-1.png\" style=\"width: 250px; height: 225px;\" /></p>\n\n<p>The sizes of the perfect binary subtrees in non-increasing order are <code>[1, 1]</code>. There are fewer than 3 perfect binary subtrees.</p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li>The number of nodes in the tree is in the range <code>[1, 2000]</code>.</li>\n\t<li><code>1 &lt;= Node.val &lt;= 2000</code></li>\n\t<li><code>1 &lt;= k &lt;= 1024</code></li>\n</ul>\n",
  "content_markdown": "You are given the `root` of a **binary tree** and an integer `k`.\n\nReturn an integer denoting the size of the `kth` **largest __ perfect binary** __ subtree, or `-1` if it doesn't exist.\n\nA **perfect binary tree** is a tree where all leaves are on the same level, and every parent has two children.\n\n \n\n**Example 1:**\n\n**Input:** root = [5,3,6,5,2,5,7,1,8,null,null,6,8], k = 2\n\n**Output:** 3\n\n**Explanation:**\n\n![](https://assets.leetcode.com/uploads/2024/10/14/tmpresl95rp-1.png)\n\nThe roots of the perfect binary subtrees are highlighted in black. Their sizes, in non-increasing order are `[3, 3, 1, 1, 1, 1, 1, 1]`.  \nThe `2nd` largest size is 3.\n\n**Example 2:**\n\n**Input:** root = [1,2,3,4,5,6,7], k = 1\n\n**Output:** 7\n\n**Explanation:**\n\n![](https://assets.leetcode.com/uploads/2024/10/14/tmp_s508x9e-1.png)\n\nThe sizes of the perfect binary subtrees in non-increasing order are `[7, 3, 3, 1, 1, 1, 1]`. The size of the largest perfect binary subtree is 7.\n\n**Example 3:**\n\n**Input:** root = [1,2,3,null,4], k = 3\n\n**Output:** -1\n\n**Explanation:**\n\n![](https://assets.leetcode.com/uploads/2024/10/14/tmp74xnmpj4-1.png)\n\nThe sizes of the perfect binary subtrees in non-increasing order are `[1, 1]`. There are fewer than 3 perfect binary subtrees.\n\n \n\n**Constraints:**\n\n  * The number of nodes in the tree is in the range `[1, 2000]`.\n  * `1 <= Node.val <= 2000`\n  * `1 <= k <= 1024`",
  "question": "You are given the `root` of a **binary tree** and an integer `k`.\n\nReturn an integer denoting the size of the `kth` **largest __ perfect binary** __ subtree, or `-1` if it doesn't exist.\n\nA **perfect binary tree** is a tree where all leaves are on the same level, and every parent has two children.",
  "examples": "**Example 1:**\n\n**Input:** root = [5,3,6,5,2,5,7,1,8,null,null,6,8], k = 2\n\n**Output:** 3\n\n**Explanation:**\n\n![](https://assets.leetcode.com/uploads/2024/10/14/tmpresl95rp-1.png)\n\nThe roots of the perfect binary subtrees are highlighted in black. Their sizes, in non-increasing order are `[3, 3, 1, 1, 1, 1, 1, 1]`.  \nThe `2nd` largest size is 3.\n\n**Example 2:**\n\n**Input:** root = [1,2,3,4,5,6,7], k = 1\n\n**Output:** 7\n\n**Explanation:**\n\n![](https://assets.leetcode.com/uploads/2024/10/14/tmp_s508x9e-1.png)\n\nThe sizes of the perfect binary subtrees in non-increasing order are `[7, 3, 3, 1, 1, 1, 1]`. The size of the largest perfect binary subtree is 7.\n\n**Example 3:**\n\n**Input:** root = [1,2,3,null,4], k = 3\n\n**Output:** -1\n\n**Explanation:**\n\n![](https://assets.leetcode.com/uploads/2024/10/14/tmp74xnmpj4-1.png)\n\nThe sizes of the perfect binary subtrees in non-increasing order are `[1, 1]`. There are fewer than 3 perfect binary subtrees.",
  "constraints": "**Constraints:**\n\n  * The number of nodes in the tree is in the range `[1, 2000]`.\n  * `1 <= Node.val <= 2000`\n  * `1 <= k <= 1024`",
  "topics": ["Tree", "Depth-First Search", "Sorting", "Binary Tree"],
  "total_accepted": 29008,
  "total_submissions": 46699,
  "acceptance_rate": "62.1%",
  "similar_questions": [
    {
      "title": "Balanced Binary Tree",
      "slug": "balanced-binary-tree",
      "difficulty": "Easy",
      "url": "https://leetcode.com/problems/balanced-binary-tree/"
    }
  ],
  "hints": [
    "For a subtree to form a perfect binary subtree, its children should also be perfect binary subtrees.",
    "Check recursively that both the node and its children are perfect binary subtrees.",
    "Gather all the perfect binary subtrees and return the kth largest."
  ]
}
