{
  "id": "1770",
  "title": "Maximum Score from Performing Multiplication Operations",
  "slug": "maximum-score-from-performing-multiplication-operations",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p>You are given two <strong>0-indexed</strong> integer arrays <code>nums</code> and <code>multipliers</code><strong> </strong>of size <code>n</code> and <code>m</code> respectively, where <code>n &gt;= m</code>.</p>\n\n<p>You begin with a score of <code>0</code>. You want to perform <strong>exactly</strong> <code>m</code> operations. On the <code>i<sup>th</sup></code> operation (<strong>0-indexed</strong>) you will:</p>\n\n<ul>\n    <li>Choose one integer <code>x</code> from <strong>either the start or the end </strong>of the array <code>nums</code>.</li>\n    <li>Add <code>multipliers[i] * x</code> to your score.\n    <ul>\n        <li>Note that <code>multipliers[0]</code> corresponds to the first operation, <code>multipliers[1]</code> to the second operation, and so on.</li>\n    </ul>\n    </li>\n    <li>Remove <code>x</code> from <code>nums</code>.</li>\n</ul>\n\n<p>Return <em>the <strong>maximum</strong> score after performing </em><code>m</code> <em>operations.</em></p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,2,3], multipliers = [3,2,1]\n<strong>Output:</strong> 14\n<strong>Explanation:</strong>&nbsp;An optimal solution is as follows:\n- Choose from the end, [1,2,<strong><u>3</u></strong>], adding 3 * 3 = 9 to the score.\n- Choose from the end, [1,<strong><u>2</u></strong>], adding 2 * 2 = 4 to the score.\n- Choose from the end, [<strong><u>1</u></strong>], adding 1 * 1 = 1 to the score.\nThe total score is 9 + 4 + 1 = 14.</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [-5,-3,-3,-2,7,1], multipliers = [-10,-5,3,4,6]\n<strong>Output:</strong> 102\n<strong>Explanation: </strong>An optimal solution is as follows:\n- Choose from the start, [<u><strong>-5</strong></u>,-3,-3,-2,7,1], adding -5 * -10 = 50 to the score.\n- Choose from the start, [<strong><u>-3</u></strong>,-3,-2,7,1], adding -3 * -5 = 15 to the score.\n- Choose from the start, [<strong><u>-3</u></strong>,-2,7,1], adding -3 * 3 = -9 to the score.\n- Choose from the end, [-2,7,<strong><u>1</u></strong>], adding 1 * 4 = 4 to the score.\n- Choose from the end, [-2,<strong><u>7</u></strong>], adding 7 * 6 = 42 to the score. \nThe total score is 50 + 15 - 9 + 4 + 42 = 102.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == nums.length</code></li>\n\t<li><code>m == multipliers.length</code></li>\n\t<li><code>1 &lt;= m &lt;= 300</code></li>\n\t<li><code>m &lt;= n &lt;= 10<sup>5</sup></code><code> </code></li>\n\t<li><code>-1000 &lt;= nums[i], multipliers[i] &lt;= 1000</code></li>\n</ul>\n",
  "content_markdown": "You are given two **0-indexed** integer arrays `nums` and `multipliers`**** of size `n` and `m` respectively, where `n >= m`.\n\nYou begin with a score of `0`. You want to perform **exactly** `m` operations. On the `ith` operation (**0-indexed**) you will:\n\n  * Choose one integer `x` from **either the start or the end** of the array `nums`.\n  * Add `multipliers[i] * x` to your score. \n    * Note that `multipliers[0]` corresponds to the first operation, `multipliers[1]` to the second operation, and so on.\n  * Remove `x` from `nums`.\n\n\n\nReturn _the**maximum** score after performing _`m` _operations._\n\n \n\n**Example 1:**\n    \n    \n    **Input:** nums = [1,2,3], multipliers = [3,2,1]\n    **Output:** 14\n    **Explanation:**  An optimal solution is as follows:\n    - Choose from the end, [1,2,**_3_**], adding 3 * 3 = 9 to the score.\n    - Choose from the end, [1,**_2_**], adding 2 * 2 = 4 to the score.\n    - Choose from the end, [**_1_**], adding 1 * 1 = 1 to the score.\n    The total score is 9 + 4 + 1 = 14.\n\n**Example 2:**\n    \n    \n    **Input:** nums = [-5,-3,-3,-2,7,1], multipliers = [-10,-5,3,4,6]\n    **Output:** 102\n    **Explanation:** An optimal solution is as follows:\n    - Choose from the start, [_**-5**_ ,-3,-3,-2,7,1], adding -5 * -10 = 50 to the score.\n    - Choose from the start, [**_-3_** ,-3,-2,7,1], adding -3 * -5 = 15 to the score.\n    - Choose from the start, [**_-3_** ,-2,7,1], adding -3 * 3 = -9 to the score.\n    - Choose from the end, [-2,7,**_1_**], adding 1 * 4 = 4 to the score.\n    - Choose from the end, [-2,**_7_**], adding 7 * 6 = 42 to the score. \n    The total score is 50 + 15 - 9 + 4 + 42 = 102.\n    \n\n \n\n**Constraints:**\n\n  * `n == nums.length`\n  * `m == multipliers.length`\n  * `1 <= m <= 300`\n  * `m <= n <= 105`` `\n  * `-1000 <= nums[i], multipliers[i] <= 1000`",
  "question": "You are given two **0-indexed** integer arrays `nums` and `multipliers`**** of size `n` and `m` respectively, where `n >= m`.\n\nYou begin with a score of `0`. You want to perform **exactly** `m` operations. On the `ith` operation (**0-indexed**) you will:\n\n  * Choose one integer `x` from **either the start or the end** of the array `nums`.\n  * Add `multipliers[i] * x` to your score. \n    * Note that `multipliers[0]` corresponds to the first operation, `multipliers[1]` to the second operation, and so on.\n  * Remove `x` from `nums`.\n\n\n\nReturn _the**maximum** score after performing _`m` _operations._",
  "examples": "**Example 1:**\n    \n    \n    **Input:** nums = [1,2,3], multipliers = [3,2,1]\n    **Output:** 14\n    **Explanation:**  An optimal solution is as follows:\n    - Choose from the end, [1,2,**_3_**], adding 3 * 3 = 9 to the score.\n    - Choose from the end, [1,**_2_**], adding 2 * 2 = 4 to the score.\n    - Choose from the end, [**_1_**], adding 1 * 1 = 1 to the score.\n    The total score is 9 + 4 + 1 = 14.\n\n**Example 2:**\n    \n    \n    **Input:** nums = [-5,-3,-3,-2,7,1], multipliers = [-10,-5,3,4,6]\n    **Output:** 102\n    **Explanation:** An optimal solution is as follows:\n    - Choose from the start, [_**-5**_ ,-3,-3,-2,7,1], adding -5 * -10 = 50 to the score.\n    - Choose from the start, [**_-3_** ,-3,-2,7,1], adding -3 * -5 = 15 to the score.\n    - Choose from the start, [**_-3_** ,-2,7,1], adding -3 * 3 = -9 to the score.\n    - Choose from the end, [-2,7,**_1_**], adding 1 * 4 = 4 to the score.\n    - Choose from the end, [-2,**_7_**], adding 7 * 6 = 42 to the score. \n    The total score is 50 + 15 - 9 + 4 + 42 = 102.",
  "constraints": "**Constraints:**\n\n  * `n == nums.length`\n  * `m == multipliers.length`\n  * `1 <= m <= 300`\n  * `m <= n <= 105`` `\n  * `-1000 <= nums[i], multipliers[i] <= 1000`",
  "topics": ["Array", "Dynamic Programming"],
  "total_accepted": 134077,
  "total_submissions": 310653,
  "acceptance_rate": "43.2%",
  "similar_questions": [
    {
      "title": "Maximum Points You Can Obtain from Cards",
      "slug": "maximum-points-you-can-obtain-from-cards",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/maximum-points-you-can-obtain-from-cards/"
    },
    {
      "title": "Stone Game VII",
      "slug": "stone-game-vii",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/stone-game-vii/"
    },
    {
      "title": "Maximum Spending After Buying Items",
      "slug": "maximum-spending-after-buying-items",
      "difficulty": "Hard",
      "url": "https://leetcode.com/problems/maximum-spending-after-buying-items/"
    }
  ],
  "hints": [
    "At first glance, the solution seems to be greedy, but if you try to greedily take the largest value from the beginning or the end, this will not be optimal.",
    "You should try all scenarios but this will be costly.",
    "Memoizing the pre-visited states while trying all the possible scenarios will reduce the complexity, and hence dp is a perfect choice here."
  ]
}
