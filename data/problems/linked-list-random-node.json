{
  "id": "382",
  "title": "Linked List Random Node",
  "slug": "linked-list-random-node",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>Given a singly linked list, return a random node&#39;s value from the linked list. Each node must have the <strong>same probability</strong> of being chosen.</p>\n\n<p>Implement the <code>Solution</code> class:</p>\n\n<ul>\n\t<li><code>Solution(ListNode head)</code> Initializes the object with the head of the singly-linked list <code>head</code>.</li>\n\t<li><code>int getRandom()</code> Chooses a node randomly from the list and returns its value. All the nodes of the list should be equally likely to be chosen.</li>\n</ul>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2021/03/16/getrand-linked-list.jpg\" style=\"width: 302px; height: 62px;\" />\n<pre>\n<strong>Input</strong>\n[&quot;Solution&quot;, &quot;getRandom&quot;, &quot;getRandom&quot;, &quot;getRandom&quot;, &quot;getRandom&quot;, &quot;getRandom&quot;]\n[[[1, 2, 3]], [], [], [], [], []]\n<strong>Output</strong>\n[null, 1, 3, 2, 2, 3]\n\n<strong>Explanation</strong>\nSolution solution = new Solution([1, 2, 3]);\nsolution.getRandom(); // return 1\nsolution.getRandom(); // return 3\nsolution.getRandom(); // return 2\nsolution.getRandom(); // return 2\nsolution.getRandom(); // return 3\n// getRandom() should return either 1, 2, or 3 randomly. Each element should have equal probability of returning.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li>The number of nodes in the linked list will be in the range <code>[1, 10<sup>4</sup>]</code>.</li>\n\t<li><code>-10<sup>4</sup> &lt;= Node.val &lt;= 10<sup>4</sup></code></li>\n\t<li>At most <code>10<sup>4</sup></code> calls will be made to <code>getRandom</code>.</li>\n</ul>\n\n<p>&nbsp;</p>\n<p><strong>Follow up:</strong></p>\n\n<ul>\n\t<li>What if the linked list is extremely large and its length is unknown to you?</li>\n\t<li>Could you solve this efficiently without using extra space?</li>\n</ul>\n",
  "content_markdown": "Given a singly linked list, return a random node's value from the linked list. Each node must have the **same probability** of being chosen.\n\nImplement the `Solution` class:\n\n  * `Solution(ListNode head)` Initializes the object with the head of the singly-linked list `head`.\n  * `int getRandom()` Chooses a node randomly from the list and returns its value. All the nodes of the list should be equally likely to be chosen.\n\n\n\n \n\n**Example 1:**\n\n![](https://assets.leetcode.com/uploads/2021/03/16/getrand-linked-list.jpg)\n    \n    \n    **Input**\n    [\"Solution\", \"getRandom\", \"getRandom\", \"getRandom\", \"getRandom\", \"getRandom\"]\n    [[[1, 2, 3]], [], [], [], [], []]\n    **Output**\n    [null, 1, 3, 2, 2, 3]\n    \n    **Explanation**\n    Solution solution = new Solution([1, 2, 3]);\n    solution.getRandom(); // return 1\n    solution.getRandom(); // return 3\n    solution.getRandom(); // return 2\n    solution.getRandom(); // return 2\n    solution.getRandom(); // return 3\n    // getRandom() should return either 1, 2, or 3 randomly. Each element should have equal probability of returning.\n    \n\n \n\n**Constraints:**\n\n  * The number of nodes in the linked list will be in the range `[1, 104]`.\n  * `-104 <= Node.val <= 104`\n  * At most `104` calls will be made to `getRandom`.\n\n\n\n \n\n**Follow up:**\n\n  * What if the linked list is extremely large and its length is unknown to you?\n  * Could you solve this efficiently without using extra space?",
  "question": "Given a singly linked list, return a random node's value from the linked list. Each node must have the **same probability** of being chosen.\n\nImplement the `Solution` class:\n\n  * `Solution(ListNode head)` Initializes the object with the head of the singly-linked list `head`.\n  * `int getRandom()` Chooses a node randomly from the list and returns its value. All the nodes of the list should be equally likely to be chosen.",
  "examples": "**Example 1:**\n\n![](https://assets.leetcode.com/uploads/2021/03/16/getrand-linked-list.jpg)\n    \n    \n    **Input**\n    [\"Solution\", \"getRandom\", \"getRandom\", \"getRandom\", \"getRandom\", \"getRandom\"]\n    [[[1, 2, 3]], [], [], [], [], []]\n    **Output**\n    [null, 1, 3, 2, 2, 3]\n    \n    **Explanation**\n    Solution solution = new Solution([1, 2, 3]);\n    solution.getRandom(); // return 1\n    solution.getRandom(); // return 3\n    solution.getRandom(); // return 2\n    solution.getRandom(); // return 2\n    solution.getRandom(); // return 3\n    // getRandom() should return either 1, 2, or 3 randomly. Each element should have equal probability of returning.",
  "constraints": "**Constraints:**\n\n  * The number of nodes in the linked list will be in the range `[1, 104]`.\n  * `-104 <= Node.val <= 104`\n  * At most `104` calls will be made to `getRandom`.",
  "topics": ["Linked List", "Math", "Reservoir Sampling", "Randomized"],
  "total_accepted": 285899,
  "total_submissions": 442126,
  "acceptance_rate": "64.7%",
  "similar_questions": [
    {
      "title": "Random Pick Index",
      "slug": "random-pick-index",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/random-pick-index/"
    }
  ],
  "hints": []
}
