{
  "id": "1277",
  "title": "Count Square Submatrices with All Ones",
  "slug": "count-square-submatrices-with-all-ones",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>Given a <code>m * n</code> matrix of ones and zeros, return how many <strong>square</strong> submatrices have all ones.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> matrix =\n[\n&nbsp; [0,1,1,1],\n&nbsp; [1,1,1,1],\n&nbsp; [0,1,1,1]\n]\n<strong>Output:</strong> 15\n<strong>Explanation:</strong> \nThere are <strong>10</strong> squares of side 1.\nThere are <strong>4</strong> squares of side 2.\nThere is  <strong>1</strong> square of side 3.\nTotal number of squares = 10 + 4 + 1 = <strong>15</strong>.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> matrix = \n[\n  [1,0,1],\n  [1,1,0],\n  [1,1,0]\n]\n<strong>Output:</strong> 7\n<strong>Explanation:</strong> \nThere are <b>6</b> squares of side 1.  \nThere is <strong>1</strong> square of side 2. \nTotal number of squares = 6 + 1 = <b>7</b>.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= arr.length&nbsp;&lt;= 300</code></li>\n\t<li><code>1 &lt;= arr[0].length&nbsp;&lt;= 300</code></li>\n\t<li><code>0 &lt;= arr[i][j] &lt;= 1</code></li>\n</ul>\n",
  "content_markdown": "Given a `m * n` matrix of ones and zeros, return how many **square** submatrices have all ones.\n\n \n\n**Example 1:**\n    \n    \n    **Input:** matrix =\n    [\n      [0,1,1,1],\n      [1,1,1,1],\n      [0,1,1,1]\n    ]\n    **Output:** 15\n    **Explanation:** \n    There are **10** squares of side 1.\n    There are **4** squares of side 2.\n    There is  **1** square of side 3.\n    Total number of squares = 10 + 4 + 1 = **15**.\n    \n\n**Example 2:**\n    \n    \n    **Input:** matrix = \n    [\n      [1,0,1],\n      [1,1,0],\n      [1,1,0]\n    ]\n    **Output:** 7\n    **Explanation:** \n    There are **6** squares of side 1.  \n    There is **1** square of side 2. \n    Total number of squares = 6 + 1 = **7**.\n    \n\n \n\n**Constraints:**\n\n  * `1 <= arr.length <= 300`\n  * `1 <= arr[0].length <= 300`\n  * `0 <= arr[i][j] <= 1`",
  "question": "Given a `m * n` matrix of ones and zeros, return how many **square** submatrices have all ones.",
  "examples": "**Example 1:**\n    \n    \n    **Input:** matrix =\n    [\n      [0,1,1,1],\n      [1,1,1,1],\n      [0,1,1,1]\n    ]\n    **Output:** 15\n    **Explanation:** \n    There are **10** squares of side 1.\n    There are **4** squares of side 2.\n    There is  **1** square of side 3.\n    Total number of squares = 10 + 4 + 1 = **15**.\n    \n\n**Example 2:**\n    \n    \n    **Input:** matrix = \n    [\n      [1,0,1],\n      [1,1,0],\n      [1,1,0]\n    ]\n    **Output:** 7\n    **Explanation:** \n    There are **6** squares of side 1.  \n    There is **1** square of side 2. \n    Total number of squares = 6 + 1 = **7**.",
  "constraints": "**Constraints:**\n\n  * `1 <= arr.length <= 300`\n  * `1 <= arr[0].length <= 300`\n  * `0 <= arr[i][j] <= 1`",
  "topics": ["Array", "Dynamic Programming", "Matrix"],
  "total_accepted": 474030,
  "total_submissions": 587677,
  "acceptance_rate": "80.7%",
  "similar_questions": [
    {
      "title": "Minimum Cost Homecoming of a Robot in a Grid",
      "slug": "minimum-cost-homecoming-of-a-robot-in-a-grid",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/minimum-cost-homecoming-of-a-robot-in-a-grid/"
    },
    {
      "title": "Count Fertile Pyramids in a Land",
      "slug": "count-fertile-pyramids-in-a-land",
      "difficulty": "Hard",
      "url": "https://leetcode.com/problems/count-fertile-pyramids-in-a-land/"
    }
  ],
  "hints": [
    "Create an additive table that counts the sum of elements of submatrix with the superior corner at (0,0).",
    "Loop over all subsquares in O(n^3) and check if the sum make the whole array to be ones, if it checks then add 1 to the answer."
  ]
}
