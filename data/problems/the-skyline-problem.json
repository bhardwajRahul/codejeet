{
  "id": "218",
  "title": "The Skyline Problem",
  "slug": "the-skyline-problem",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p>A city&#39;s <strong>skyline</strong> is the outer contour of the silhouette formed by all the buildings in that city when viewed from a distance. Given the locations and heights of all the buildings, return <em>the <strong>skyline</strong> formed by these buildings collectively</em>.</p>\n\n<p>The geometric information of each building is given in the array <code>buildings</code> where <code>buildings[i] = [left<sub>i</sub>, right<sub>i</sub>, height<sub>i</sub>]</code>:</p>\n\n<ul>\n\t<li><code>left<sub>i</sub></code> is the x coordinate of the left edge of the <code>i<sup>th</sup></code> building.</li>\n\t<li><code>right<sub>i</sub></code> is the x coordinate of the right edge of the <code>i<sup>th</sup></code> building.</li>\n\t<li><code>height<sub>i</sub></code> is the height of the <code>i<sup>th</sup></code> building.</li>\n</ul>\n\n<p>You may assume all buildings are perfect rectangles grounded on an absolutely flat surface at height <code>0</code>.</p>\n\n<p>The <strong>skyline</strong> should be represented as a list of &quot;key points&quot; <strong>sorted by their x-coordinate</strong> in the form <code>[[x<sub>1</sub>,y<sub>1</sub>],[x<sub>2</sub>,y<sub>2</sub>],...]</code>. Each key point is the left endpoint of some horizontal segment in the skyline except the last point in the list, which always has a y-coordinate <code>0</code> and is used to mark the skyline&#39;s termination where the rightmost building ends. Any ground between the leftmost and rightmost buildings should be part of the skyline&#39;s contour.</p>\n\n<p><b>Note:</b> There must be no consecutive horizontal lines of equal height in the output skyline. For instance, <code>[...,[2 3],[4 5],[7 5],[11 5],[12 7],...]</code> is not acceptable; the three lines of height 5 should be merged into one in the final output as such: <code>[...,[2 3],[4 5],[12 7],...]</code></p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2020/12/01/merged.jpg\" style=\"width: 800px; height: 331px;\" />\n<pre>\n<strong>Input:</strong> buildings = [[2,9,10],[3,7,15],[5,12,12],[15,20,10],[19,24,8]]\n<strong>Output:</strong> [[2,10],[3,15],[7,12],[12,0],[15,10],[20,8],[24,0]]\n<strong>Explanation:</strong>\nFigure A shows the buildings of the input.\nFigure B shows the skyline formed by those buildings. The red points in figure B represent the key points in the output list.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> buildings = [[0,2,3],[2,5,3]]\n<strong>Output:</strong> [[0,3],[5,0]]\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= buildings.length &lt;= 10<sup>4</sup></code></li>\n\t<li><code>0 &lt;= left<sub>i</sub> &lt; right<sub>i</sub> &lt;= 2<sup>31</sup> - 1</code></li>\n\t<li><code>1 &lt;= height<sub>i</sub> &lt;= 2<sup>31</sup> - 1</code></li>\n\t<li><code>buildings</code> is sorted by <code>left<sub>i</sub></code> in&nbsp;non-decreasing order.</li>\n</ul>\n",
  "content_markdown": "A city's **skyline** is the outer contour of the silhouette formed by all the buildings in that city when viewed from a distance. Given the locations and heights of all the buildings, return _the**skyline** formed by these buildings collectively_.\n\nThe geometric information of each building is given in the array `buildings` where `buildings[i] = [lefti, righti, heighti]`:\n\n  * `lefti` is the x coordinate of the left edge of the `ith` building.\n  * `righti` is the x coordinate of the right edge of the `ith` building.\n  * `heighti` is the height of the `ith` building.\n\n\n\nYou may assume all buildings are perfect rectangles grounded on an absolutely flat surface at height `0`.\n\nThe **skyline** should be represented as a list of \"key points\" **sorted by their x-coordinate** in the form `[[x1,y1],[x2,y2],...]`. Each key point is the left endpoint of some horizontal segment in the skyline except the last point in the list, which always has a y-coordinate `0` and is used to mark the skyline's termination where the rightmost building ends. Any ground between the leftmost and rightmost buildings should be part of the skyline's contour.\n\n**Note:** There must be no consecutive horizontal lines of equal height in the output skyline. For instance, `[...,[2 3],[4 5],[7 5],[11 5],[12 7],...]` is not acceptable; the three lines of height 5 should be merged into one in the final output as such: `[...,[2 3],[4 5],[12 7],...]`\n\n \n\n**Example 1:**\n\n![](https://assets.leetcode.com/uploads/2020/12/01/merged.jpg)\n    \n    \n    **Input:** buildings = [[2,9,10],[3,7,15],[5,12,12],[15,20,10],[19,24,8]]\n    **Output:** [[2,10],[3,15],[7,12],[12,0],[15,10],[20,8],[24,0]]\n    **Explanation:**\n    Figure A shows the buildings of the input.\n    Figure B shows the skyline formed by those buildings. The red points in figure B represent the key points in the output list.\n    \n\n**Example 2:**\n    \n    \n    **Input:** buildings = [[0,2,3],[2,5,3]]\n    **Output:** [[0,3],[5,0]]\n    \n\n \n\n**Constraints:**\n\n  * `1 <= buildings.length <= 104`\n  * `0 <= lefti < righti <= 231 - 1`\n  * `1 <= heighti <= 231 - 1`\n  * `buildings` is sorted by `lefti` in non-decreasing order.",
  "question": "A city's **skyline** is the outer contour of the silhouette formed by all the buildings in that city when viewed from a distance. Given the locations and heights of all the buildings, return _the**skyline** formed by these buildings collectively_.\n\nThe geometric information of each building is given in the array `buildings` where `buildings[i] = [lefti, righti, heighti]`:\n\n  * `lefti` is the x coordinate of the left edge of the `ith` building.\n  * `righti` is the x coordinate of the right edge of the `ith` building.\n  * `heighti` is the height of the `ith` building.\n\n\n\nYou may assume all buildings are perfect rectangles grounded on an absolutely flat surface at height `0`.\n\nThe **skyline** should be represented as a list of \"key points\" **sorted by their x-coordinate** in the form `[[x1,y1],[x2,y2],...]`. Each key point is the left endpoint of some horizontal segment in the skyline except the last point in the list, which always has a y-coordinate `0` and is used to mark the skyline's termination where the rightmost building ends. Any ground between the leftmost and rightmost buildings should be part of the skyline's contour.\n\n**Note:** There must be no consecutive horizontal lines of equal height in the output skyline. For instance, `[...,[2 3],[4 5],[7 5],[11 5],[12 7],...]` is not acceptable; the three lines of height 5 should be merged into one in the final output as such: `[...,[2 3],[4 5],[12 7],...]`",
  "examples": "**Example 1:**\n\n![](https://assets.leetcode.com/uploads/2020/12/01/merged.jpg)\n    \n    \n    **Input:** buildings = [[2,9,10],[3,7,15],[5,12,12],[15,20,10],[19,24,8]]\n    **Output:** [[2,10],[3,15],[7,12],[12,0],[15,10],[20,8],[24,0]]\n    **Explanation:**\n    Figure A shows the buildings of the input.\n    Figure B shows the skyline formed by those buildings. The red points in figure B represent the key points in the output list.\n    \n\n**Example 2:**\n    \n    \n    **Input:** buildings = [[0,2,3],[2,5,3]]\n    **Output:** [[0,3],[5,0]]",
  "constraints": "**Constraints:**\n\n  * `1 <= buildings.length <= 104`\n  * `0 <= lefti < righti <= 231 - 1`\n  * `1 <= heighti <= 231 - 1`\n  * `buildings` is sorted by `lefti` in non-decreasing order.",
  "topics": [
    "Array",
    "Divide and Conquer",
    "Binary Indexed Tree",
    "Segment Tree",
    "Sweep Line",
    "Sorting",
    "Heap (Priority Queue)",
    "Ordered Set"
  ],
  "total_accepted": 346203,
  "total_submissions": 769436,
  "acceptance_rate": "45.0%",
  "similar_questions": [
    {
      "title": "Falling Squares",
      "slug": "falling-squares",
      "difficulty": "Hard",
      "url": "https://leetcode.com/problems/falling-squares/"
    },
    {
      "title": "Shifting Letters II",
      "slug": "shifting-letters-ii",
      "difficulty": "Medium",
      "url": "https://leetcode.com/problems/shifting-letters-ii/"
    }
  ],
  "hints": []
}
