{
  "id": "3494",
  "title": "Find the Minimum Amount of Time to Brew Potions",
  "slug": "find-the-minimum-amount-of-time-to-brew-potions",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>You are given two integer arrays, <code>skill</code> and <code><font face=\"monospace\">mana</font></code>, of length <code>n</code> and <code>m</code>, respectively.</p>\n\n<p>In a laboratory, <code>n</code> wizards must brew <code>m</code> potions <em>in order</em>. Each potion has a mana capacity <code>mana[j]</code> and <strong>must</strong> pass through <strong>all</strong> the wizards sequentially to be brewed properly. The time taken by the <code>i<sup>th</sup></code> wizard on the <code>j<sup>th</sup></code> potion is <code>time<sub>ij</sub> = skill[i] * mana[j]</code>.</p>\n\n<p>Since the brewing process is delicate, a potion <strong>must</strong> be passed to the next wizard immediately after the current wizard completes their work. This means the timing must be <em>synchronized</em> so that each wizard begins working on a potion <strong>exactly</strong> when it arrives. ​</p>\n\n<p>Return the <strong>minimum</strong> amount of time required for the potions to be brewed properly.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">skill = [1,5,2,4], mana = [5,1,4,2]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">110</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<table style=\"border: 1px solid black;\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<th style=\"border: 1px solid black;\">Potion Number</th>\n\t\t\t<th style=\"border: 1px solid black;\">Start time</th>\n\t\t\t<th style=\"border: 1px solid black;\">Wizard 0 done by</th>\n\t\t\t<th style=\"border: 1px solid black;\">Wizard 1 done by</th>\n\t\t\t<th style=\"border: 1px solid black;\">Wizard 2 done by</th>\n\t\t\t<th style=\"border: 1px solid black;\">Wizard 3 done by</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border: 1px solid black;\">0</td>\n\t\t\t<td style=\"border: 1px solid black;\">0</td>\n\t\t\t<td style=\"border: 1px solid black;\">5</td>\n\t\t\t<td style=\"border: 1px solid black;\">30</td>\n\t\t\t<td style=\"border: 1px solid black;\">40</td>\n\t\t\t<td style=\"border: 1px solid black;\">60</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border: 1px solid black;\">1</td>\n\t\t\t<td style=\"border: 1px solid black;\">52</td>\n\t\t\t<td style=\"border: 1px solid black;\">53</td>\n\t\t\t<td style=\"border: 1px solid black;\">58</td>\n\t\t\t<td style=\"border: 1px solid black;\">60</td>\n\t\t\t<td style=\"border: 1px solid black;\">64</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border: 1px solid black;\">2</td>\n\t\t\t<td style=\"border: 1px solid black;\">54</td>\n\t\t\t<td style=\"border: 1px solid black;\">58</td>\n\t\t\t<td style=\"border: 1px solid black;\">78</td>\n\t\t\t<td style=\"border: 1px solid black;\">86</td>\n\t\t\t<td style=\"border: 1px solid black;\">102</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border: 1px solid black;\">3</td>\n\t\t\t<td style=\"border: 1px solid black;\">86</td>\n\t\t\t<td style=\"border: 1px solid black;\">88</td>\n\t\t\t<td style=\"border: 1px solid black;\">98</td>\n\t\t\t<td style=\"border: 1px solid black;\">102</td>\n\t\t\t<td style=\"border: 1px solid black;\">110</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>As an example for why wizard 0 cannot start working on the 1<sup>st</sup> potion before time <code>t = 52</code>, consider the case where the wizards started preparing the 1<sup>st</sup> potion at time <code>t = 50</code>. At time <code>t = 58</code>, wizard 2 is done with the 1<sup>st</sup> potion, but wizard 3 will still be working on the 0<sup>th</sup> potion till time <code>t = 60</code>.</p>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">skill = [1,1,1], mana = [1,1,1]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">5</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ol>\n\t<li>Preparation of the 0<sup>th</sup> potion begins at time <code>t = 0</code>, and is completed by time <code>t = 3</code>.</li>\n\t<li>Preparation of the 1<sup>st</sup> potion begins at time <code>t = 1</code>, and is completed by time <code>t = 4</code>.</li>\n\t<li>Preparation of the 2<sup>nd</sup> potion begins at time <code>t = 2</code>, and is completed by time <code>t = 5</code>.</li>\n</ol>\n</div>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">skill = [1,2,3,4], mana = [1,2]</span></p>\n\n<p><strong>Output:</strong> 21</p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == skill.length</code></li>\n\t<li><code>m == mana.length</code></li>\n\t<li><code>1 &lt;= n, m &lt;= 5000</code></li>\n\t<li><code>1 &lt;= mana[i], skill[i] &lt;= 5000</code></li>\n</ul>\n",
  "content_markdown": "You are given two integer arrays, `skill` and `mana`, of length `n` and `m`, respectively.\n\nIn a laboratory, `n` wizards must brew `m` potions _in order_. Each potion has a mana capacity `mana[j]` and **must** pass through **all** the wizards sequentially to be brewed properly. The time taken by the `ith` wizard on the `jth` potion is `timeij = skill[i] * mana[j]`.\n\nSince the brewing process is delicate, a potion **must** be passed to the next wizard immediately after the current wizard completes their work. This means the timing must be _synchronized_ so that each wizard begins working on a potion **exactly** when it arrives. ​\n\nReturn the **minimum** amount of time required for the potions to be brewed properly.\n\n \n\n**Example 1:**\n\n**Input:** skill = [1,5,2,4], mana = [5,1,4,2]\n\n**Output:** 110\n\n**Explanation:**\n\nPotion Number | Start time | Wizard 0 done by | Wizard 1 done by | Wizard 2 done by | Wizard 3 done by  \n---|---|---|---|---|---  \n0 | 0 | 5 | 30 | 40 | 60  \n1 | 52 | 53 | 58 | 60 | 64  \n2 | 54 | 58 | 78 | 86 | 102  \n3 | 86 | 88 | 98 | 102 | 110  \n  \nAs an example for why wizard 0 cannot start working on the 1st potion before time `t = 52`, consider the case where the wizards started preparing the 1st potion at time `t = 50`. At time `t = 58`, wizard 2 is done with the 1st potion, but wizard 3 will still be working on the 0th potion till time `t = 60`.\n\n**Example 2:**\n\n**Input:** skill = [1,1,1], mana = [1,1,1]\n\n**Output:** 5\n\n**Explanation:**\n\n  1. Preparation of the 0th potion begins at time `t = 0`, and is completed by time `t = 3`.\n  2. Preparation of the 1st potion begins at time `t = 1`, and is completed by time `t = 4`.\n  3. Preparation of the 2nd potion begins at time `t = 2`, and is completed by time `t = 5`.\n\n\n\n**Example 3:**\n\n**Input:** skill = [1,2,3,4], mana = [1,2]\n\n**Output:** 21\n\n \n\n**Constraints:**\n\n  * `n == skill.length`\n  * `m == mana.length`\n  * `1 <= n, m <= 5000`\n  * `1 <= mana[i], skill[i] <= 5000`",
  "question": "You are given two integer arrays, `skill` and `mana`, of length `n` and `m`, respectively.\n\nIn a laboratory, `n` wizards must brew `m` potions _in order_. Each potion has a mana capacity `mana[j]` and **must** pass through **all** the wizards sequentially to be brewed properly. The time taken by the `ith` wizard on the `jth` potion is `timeij = skill[i] * mana[j]`.\n\nSince the brewing process is delicate, a potion **must** be passed to the next wizard immediately after the current wizard completes their work. This means the timing must be _synchronized_ so that each wizard begins working on a potion **exactly** when it arrives. ​\n\nReturn the **minimum** amount of time required for the potions to be brewed properly.",
  "examples": "**Example 1:**\n\n**Input:** skill = [1,5,2,4], mana = [5,1,4,2]\n\n**Output:** 110\n\n**Explanation:**\n\nPotion Number | Start time | Wizard 0 done by | Wizard 1 done by | Wizard 2 done by | Wizard 3 done by  \n---|---|---|---|---|---  \n0 | 0 | 5 | 30 | 40 | 60  \n1 | 52 | 53 | 58 | 60 | 64  \n2 | 54 | 58 | 78 | 86 | 102  \n3 | 86 | 88 | 98 | 102 | 110  \n  \nAs an example for why wizard 0 cannot start working on the 1st potion before time `t = 52`, consider the case where the wizards started preparing the 1st potion at time `t = 50`. At time `t = 58`, wizard 2 is done with the 1st potion, but wizard 3 will still be working on the 0th potion till time `t = 60`.\n\n**Example 2:**\n\n**Input:** skill = [1,1,1], mana = [1,1,1]\n\n**Output:** 5\n\n**Explanation:**\n\n  1. Preparation of the 0th potion begins at time `t = 0`, and is completed by time `t = 3`.\n  2. Preparation of the 1st potion begins at time `t = 1`, and is completed by time `t = 4`.\n  3. Preparation of the 2nd potion begins at time `t = 2`, and is completed by time `t = 5`.\n\n\n\n**Example 3:**\n\n**Input:** skill = [1,2,3,4], mana = [1,2]\n\n**Output:** 21",
  "constraints": "**Constraints:**\n\n  * `n == skill.length`\n  * `m == mana.length`\n  * `1 <= n, m <= 5000`\n  * `1 <= mana[i], skill[i] <= 5000`",
  "topics": ["Array", "Simulation", "Prefix Sum"],
  "total_accepted": 86413,
  "total_submissions": 137801,
  "acceptance_rate": "62.7%",
  "similar_questions": [],
  "hints": [
    "Maintain each wizard's earliest free time (for the last potion) as <code>f[i]</code>.",
    "Let <code>x</code> be the current mana value. Starting from <code>now = f[0]</code>, update <code>now = max(now + skill[i - 1] * x, f[i])</code> for <code>i in [1..n]</code>. Then, the final <code>f[n - 1] = now + skill[n - 1] * x</code> for this potion.",
    "Update all other <code>f</code> values by <code>f[i] = f[i + 1] - skill[i + 1] * x</code> for <code>i in [0..n - 2]</code> (in reverse order)."
  ]
}
