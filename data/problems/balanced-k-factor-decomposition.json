{
  "id": "3669",
  "title": "Balanced K-Factor Decomposition",
  "slug": "balanced-k-factor-decomposition",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>Given two integers <code>n</code> and <code>k</code>, split the number <code>n</code> into exactly <code>k</code> positive integers such that the <strong>product</strong> of these integers is equal to <code>n</code>.</p>\n\n<p>Return <em>any</em> <em>one</em> split in which the <strong>maximum</strong> difference between any two numbers is <strong>minimized</strong>. You may return the result in <em>any order</em>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">n = 100, k = 2</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">[10,10]</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p data-end=\"157\" data-start=\"0\">The split <code>[10, 10]</code> yields <code>10 * 10 = 100</code> and a max-min difference of 0, which is minimal.</p>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">n = 44, k = 3</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">[2,2,11]</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li data-end=\"46\" data-start=\"2\">Split <code>[1, 1, 44]</code> yields a difference of 43</li>\n\t<li data-end=\"93\" data-start=\"49\">Split <code>[1, 2, 22]</code> yields a difference of 21</li>\n\t<li data-end=\"140\" data-start=\"96\">Split <code>[1, 4, 11]</code> yields a difference of 10</li>\n\t<li data-end=\"186\" data-start=\"143\">Split <code>[2, 2, 11]</code> yields a difference of 9</li>\n</ul>\n\n<p data-end=\"264\" data-is-last-node=\"\" data-is-only-node=\"\" data-start=\"188\">Therefore, <code>[2, 2, 11]</code> is the optimal split with the smallest difference 9.</p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li data-end=\"54\" data-start=\"37\"><code data-end=\"52\" data-start=\"37\">4 &lt;= n &lt;= 10<sup><span style=\"font-size: 10.8333px;\">5</span></sup></code></li>\n\t<li data-end=\"71\" data-start=\"57\"><code data-end=\"69\" data-start=\"57\">2 &lt;= k &lt;= 5</code></li>\n\t<li data-end=\"145\" data-is-last-node=\"\" data-start=\"74\"><code data-end=\"77\" data-start=\"74\">k</code> is strictly less than the total number of positive divisors of <code data-end=\"144\" data-is-only-node=\"\" data-start=\"141\">n</code>.</li>\n</ul>\n",
  "content_markdown": "Given two integers `n` and `k`, split the number `n` into exactly `k` positive integers such that the **product** of these integers is equal to `n`.\n\nReturn _any_ _one_ split in which the **maximum** difference between any two numbers is **minimized**. You may return the result in _any order_.\n\n \n\n**Example 1:**\n\n**Input:** n = 100, k = 2\n\n**Output:** [10,10]\n\n**Explanation:**\n\nThe split `[10, 10]` yields `10 * 10 = 100` and a max-min difference of 0, which is minimal.\n\n**Example 2:**\n\n**Input:** n = 44, k = 3\n\n**Output:** [2,2,11]\n\n**Explanation:**\n\n  * Split `[1, 1, 44]` yields a difference of 43\n  * Split `[1, 2, 22]` yields a difference of 21\n  * Split `[1, 4, 11]` yields a difference of 10\n  * Split `[2, 2, 11]` yields a difference of 9\n\n\n\nTherefore, `[2, 2, 11]` is the optimal split with the smallest difference 9.\n\n \n\n**Constraints:**\n\n  * `4 <= n <= 105`\n  * `2 <= k <= 5`\n  * `k` is strictly less than the total number of positive divisors of `n`.",
  "question": "Given two integers `n` and `k`, split the number `n` into exactly `k` positive integers such that the **product** of these integers is equal to `n`.\n\nReturn _any_ _one_ split in which the **maximum** difference between any two numbers is **minimized**. You may return the result in _any order_.",
  "examples": "**Example 1:**\n\n**Input:** n = 100, k = 2\n\n**Output:** [10,10]\n\n**Explanation:**\n\nThe split `[10, 10]` yields `10 * 10 = 100` and a max-min difference of 0, which is minimal.\n\n**Example 2:**\n\n**Input:** n = 44, k = 3\n\n**Output:** [2,2,11]\n\n**Explanation:**\n\n  * Split `[1, 1, 44]` yields a difference of 43\n  * Split `[1, 2, 22]` yields a difference of 21\n  * Split `[1, 4, 11]` yields a difference of 10\n  * Split `[2, 2, 11]` yields a difference of 9\n\n\n\nTherefore, `[2, 2, 11]` is the optimal split with the smallest difference 9.",
  "constraints": "**Constraints:**\n\n  * `4 <= n <= 105`\n  * `2 <= k <= 5`\n  * `k` is strictly less than the total number of positive divisors of `n`.",
  "topics": ["Math", "Backtracking", "Number Theory"],
  "total_accepted": 27213,
  "total_submissions": 68019,
  "acceptance_rate": "40.0%",
  "similar_questions": [],
  "hints": [
    "First, compute all positive divisors of <code>n</code> and sort them into a list <code>divs</code>.",
    "Use a recursive search <code>dfs(start, picked, prod, path)</code> that picks the next divisor from <code>divs[start...]</code>, multiplies it into <code>prod</code>, and appends to <code>path</code> until you have <code>k</code> factors whose product is <code>n</code>.",
    "During the search, keep track of the best <code>path</code> that minimizes max(path) – min(path) and return it."
  ]
}
