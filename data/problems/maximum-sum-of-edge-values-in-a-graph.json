{
  "id": "3547",
  "title": "Maximum Sum of Edge Values in a Graph",
  "slug": "maximum-sum-of-edge-values-in-a-graph",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p>You are given an <strong>undirected connected</strong> graph of <code>n</code> nodes, numbered from <code>0</code> to <code>n - 1</code>. Each node is connected to <strong>at most</strong> 2 other nodes.</p>\n\n<p>The graph consists of <code>m</code> edges, represented by a 2D array <code>edges</code>, where <code>edges[i] = [a<sub>i</sub>, b<sub>i</sub>]</code> indicates that there is an edge between nodes <code>a<sub>i</sub></code> and <code>b<sub>i</sub></code>.</p>\n\n<p data-end=\"502\" data-start=\"345\">You have to assign a <strong>unique</strong> value from <code data-end=\"391\" data-start=\"388\">1</code> to <code data-end=\"398\" data-start=\"395\">n</code> to each node. The value of an edge will be the <strong>product</strong> of the values assigned to the two nodes it connects.</p>\n\n<p data-end=\"502\" data-start=\"345\">Your score is the sum of the values of all edges in the graph.</p>\n\n<p>Return the <strong>maximum</strong> score you can achieve.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2025/05/12/screenshot-from-2025-05-13-01-27-52.png\" style=\"width: 411px; height: 123px;\" />\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">n = 4, edges =&nbsp;</span>[[0,1],[1,2],[2,3]]</p>\n\n<p><strong>Output:</strong> 23</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The diagram above illustrates an optimal assignment of values to nodes. The sum of the values of the edges is: <code>(1 * 3) + (3 * 4) + (4 * 2) = 23</code>.</p>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2025/03/23/graphproblemex2drawio.png\" style=\"width: 220px; height: 255px;\" />\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">n = 6, edges = [[0,3],[4,5],[2,0],[1,3],[2,4],[1,5]]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">82</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The diagram above illustrates an optimal assignment of values to nodes. The sum of the values of the edges is: <code>(1 * 2) + (2 * 4) + (4 * 6) + (6 * 5) + (5 * 3) + (3 * 1) = 82</code>.</p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= n &lt;= 5 * 10<sup>4</sup></code></li>\n\t<li><code>m == edges.length</code></li>\n\t<li><code>1 &lt;= m &lt;= n</code></li>\n\t<li><code>edges[i].length == 2</code></li>\n\t<li><code>0 &lt;= a<sub>i</sub>, b<sub>i</sub> &lt; n</code></li>\n\t<li><code>a<sub>i</sub> != b<sub>i</sub></code></li>\n\t<li>There are no repeated edges.</li>\n\t<li>The graph is connected.</li>\n\t<li>Each node is connected to at most 2 other nodes.</li>\n</ul>\n",
  "content_markdown": "You are given an **undirected connected** graph of `n` nodes, numbered from `0` to `n - 1`. Each node is connected to **at most** 2 other nodes.\n\nThe graph consists of `m` edges, represented by a 2D array `edges`, where `edges[i] = [ai, bi]` indicates that there is an edge between nodes `ai` and `bi`.\n\nYou have to assign a **unique** value from `1` to `n` to each node. The value of an edge will be the **product** of the values assigned to the two nodes it connects.\n\nYour score is the sum of the values of all edges in the graph.\n\nReturn the **maximum** score you can achieve.\n\n \n\n**Example 1:**\n\n![](https://assets.leetcode.com/uploads/2025/05/12/screenshot-from-2025-05-13-01-27-52.png)\n\n**Input:** n = 4, edges = [[0,1],[1,2],[2,3]]\n\n**Output:** 23\n\n**Explanation:**\n\nThe diagram above illustrates an optimal assignment of values to nodes. The sum of the values of the edges is: `(1 * 3) + (3 * 4) + (4 * 2) = 23`.\n\n**Example 2:**\n\n![](https://assets.leetcode.com/uploads/2025/03/23/graphproblemex2drawio.png)\n\n**Input:** n = 6, edges = [[0,3],[4,5],[2,0],[1,3],[2,4],[1,5]]\n\n**Output:** 82\n\n**Explanation:**\n\nThe diagram above illustrates an optimal assignment of values to nodes. The sum of the values of the edges is: `(1 * 2) + (2 * 4) + (4 * 6) + (6 * 5) + (5 * 3) + (3 * 1) = 82`.\n\n \n\n**Constraints:**\n\n  * `1 <= n <= 5 * 104`\n  * `m == edges.length`\n  * `1 <= m <= n`\n  * `edges[i].length == 2`\n  * `0 <= ai, bi < n`\n  * `ai != bi`\n  * There are no repeated edges.\n  * The graph is connected.\n  * Each node is connected to at most 2 other nodes.",
  "question": "You are given an **undirected connected** graph of `n` nodes, numbered from `0` to `n - 1`. Each node is connected to **at most** 2 other nodes.\n\nThe graph consists of `m` edges, represented by a 2D array `edges`, where `edges[i] = [ai, bi]` indicates that there is an edge between nodes `ai` and `bi`.\n\nYou have to assign a **unique** value from `1` to `n` to each node. The value of an edge will be the **product** of the values assigned to the two nodes it connects.\n\nYour score is the sum of the values of all edges in the graph.\n\nReturn the **maximum** score you can achieve.",
  "examples": "**Example 1:**\n\n![](https://assets.leetcode.com/uploads/2025/05/12/screenshot-from-2025-05-13-01-27-52.png)\n\n**Input:** n = 4, edges = [[0,1],[1,2],[2,3]]\n\n**Output:** 23\n\n**Explanation:**\n\nThe diagram above illustrates an optimal assignment of values to nodes. The sum of the values of the edges is: `(1 * 3) + (3 * 4) + (4 * 2) = 23`.\n\n**Example 2:**\n\n![](https://assets.leetcode.com/uploads/2025/03/23/graphproblemex2drawio.png)\n\n**Input:** n = 6, edges = [[0,3],[4,5],[2,0],[1,3],[2,4],[1,5]]\n\n**Output:** 82\n\n**Explanation:**\n\nThe diagram above illustrates an optimal assignment of values to nodes. The sum of the values of the edges is: `(1 * 2) + (2 * 4) + (4 * 6) + (6 * 5) + (5 * 3) + (3 * 1) = 82`.",
  "constraints": "**Constraints:**\n\n  * `1 <= n <= 5 * 104`\n  * `m == edges.length`\n  * `1 <= m <= n`\n  * `edges[i].length == 2`\n  * `0 <= ai, bi < n`\n  * `ai != bi`\n  * There are no repeated edges.\n  * The graph is connected.\n  * Each node is connected to at most 2 other nodes.",
  "topics": ["Math", "Greedy", "Graph Theory"],
  "total_accepted": 6497,
  "total_submissions": 18189,
  "acceptance_rate": "35.7%",
  "similar_questions": [],
  "hints": ["The graph is either a simple path or a cycle.", "Greedily assign values to the nodes."]
}
