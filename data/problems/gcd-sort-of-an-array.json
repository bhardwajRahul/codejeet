{
  "id": "1998",
  "title": "GCD Sort of an Array",
  "slug": "gcd-sort-of-an-array",
  "difficulty": "Hard",
  "category": "Algorithms",
  "content_html": "<p>You are given an integer array <code>nums</code>, and you can perform the following operation <strong>any</strong> number of times on <code>nums</code>:</p>\n\n<ul>\n\t<li>Swap the positions of two elements <code>nums[i]</code> and <code>nums[j]</code> if <code>gcd(nums[i], nums[j]) &gt; 1</code> where <code>gcd(nums[i], nums[j])</code> is the <strong>greatest common divisor</strong> of <code>nums[i]</code> and <code>nums[j]</code>.</li>\n</ul>\n\n<p>Return <code>true</code> <em>if it is possible to sort </em><code>nums</code><em> in <strong>non-decreasing</strong> order using the above swap method, or </em><code>false</code><em> otherwise.</em></p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [7,21,3]\n<strong>Output:</strong> true\n<strong>Explanation:</strong> We can sort [7,21,3] by performing the following operations:\n- Swap 7 and 21 because gcd(7,21) = 7. nums = [<u><strong>21</strong></u>,<u><strong>7</strong></u>,3]\n- Swap 21 and 3 because gcd(21,3) = 3. nums = [<u><strong>3</strong></u>,7,<u><strong>21</strong></u>]\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [5,2,6,2]\n<strong>Output:</strong> false\n<strong>Explanation:</strong> It is impossible to sort the array because 5 cannot be swapped with any other element.\n</pre>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [10,5,9,3,15]\n<strong>Output:</strong> true\nWe can sort [10,5,9,3,15] by performing the following operations:\n- Swap 10 and 15 because gcd(10,15) = 5. nums = [<u><strong>15</strong></u>,5,9,3,<u><strong>10</strong></u>]\n- Swap 15 and 3 because gcd(15,3) = 3. nums = [<u><strong>3</strong></u>,5,9,<u><strong>15</strong></u>,10]\n- Swap 10 and 15 because gcd(10,15) = 5. nums = [3,5,9,<u><strong>10</strong></u>,<u><strong>15</strong></u>]\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= nums.length &lt;= 3 * 10<sup>4</sup></code></li>\n\t<li><code>2 &lt;= nums[i] &lt;= 10<sup>5</sup></code></li>\n</ul>\n",
  "content_markdown": "You are given an integer array `nums`, and you can perform the following operation **any** number of times on `nums`:\n\n  * Swap the positions of two elements `nums[i]` and `nums[j]` if `gcd(nums[i], nums[j]) > 1` where `gcd(nums[i], nums[j])` is the **greatest common divisor** of `nums[i]` and `nums[j]`.\n\n\n\nReturn `true` _if it is possible to sort_`nums` _in**non-decreasing** order using the above swap method, or _`false` _otherwise._\n\n \n\n**Example 1:**\n    \n    \n    **Input:** nums = [7,21,3]\n    **Output:** true\n    **Explanation:** We can sort [7,21,3] by performing the following operations:\n    - Swap 7 and 21 because gcd(7,21) = 7. nums = [_**21**_ ,_**7**_ ,3]\n    - Swap 21 and 3 because gcd(21,3) = 3. nums = [_**3**_ ,7,_**21**_]\n    \n\n**Example 2:**\n    \n    \n    **Input:** nums = [5,2,6,2]\n    **Output:** false\n    **Explanation:** It is impossible to sort the array because 5 cannot be swapped with any other element.\n    \n\n**Example 3:**\n    \n    \n    **Input:** nums = [10,5,9,3,15]\n    **Output:** true\n    We can sort [10,5,9,3,15] by performing the following operations:\n    - Swap 10 and 15 because gcd(10,15) = 5. nums = [_**15**_ ,5,9,3,_**10**_]\n    - Swap 15 and 3 because gcd(15,3) = 3. nums = [_**3**_ ,5,9,_**15**_ ,10]\n    - Swap 10 and 15 because gcd(10,15) = 5. nums = [3,5,9,_**10**_ ,_**15**_]\n    \n\n \n\n**Constraints:**\n\n  * `1 <= nums.length <= 3 * 104`\n  * `2 <= nums[i] <= 105`",
  "question": "You are given an integer array `nums`, and you can perform the following operation **any** number of times on `nums`:\n\n  * Swap the positions of two elements `nums[i]` and `nums[j]` if `gcd(nums[i], nums[j]) > 1` where `gcd(nums[i], nums[j])` is the **greatest common divisor** of `nums[i]` and `nums[j]`.\n\n\n\nReturn `true` _if it is possible to sort_`nums` _in**non-decreasing** order using the above swap method, or _`false` _otherwise._",
  "examples": "**Example 1:**\n    \n    \n    **Input:** nums = [7,21,3]\n    **Output:** true\n    **Explanation:** We can sort [7,21,3] by performing the following operations:\n    - Swap 7 and 21 because gcd(7,21) = 7. nums = [_**21**_ ,_**7**_ ,3]\n    - Swap 21 and 3 because gcd(21,3) = 3. nums = [_**3**_ ,7,_**21**_]\n    \n\n**Example 2:**\n    \n    \n    **Input:** nums = [5,2,6,2]\n    **Output:** false\n    **Explanation:** It is impossible to sort the array because 5 cannot be swapped with any other element.\n    \n\n**Example 3:**\n    \n    \n    **Input:** nums = [10,5,9,3,15]\n    **Output:** true\n    We can sort [10,5,9,3,15] by performing the following operations:\n    - Swap 10 and 15 because gcd(10,15) = 5. nums = [_**15**_ ,5,9,3,_**10**_]\n    - Swap 15 and 3 because gcd(15,3) = 3. nums = [_**3**_ ,5,9,_**15**_ ,10]\n    - Swap 10 and 15 because gcd(10,15) = 5. nums = [3,5,9,_**10**_ ,_**15**_]",
  "constraints": "**Constraints:**\n\n  * `1 <= nums.length <= 3 * 104`\n  * `2 <= nums[i] <= 105`",
  "topics": ["Array", "Math", "Union-Find", "Sorting", "Number Theory"],
  "total_accepted": 13767,
  "total_submissions": 28387,
  "acceptance_rate": "48.5%",
  "similar_questions": [
    {
      "title": "Rank Transform of a Matrix",
      "slug": "rank-transform-of-a-matrix",
      "difficulty": "Hard",
      "url": "https://leetcode.com/problems/rank-transform-of-a-matrix/"
    }
  ],
  "hints": [
    "Can we build a graph with all the prime numbers and the original array?",
    "We can use union-find to determine which indices are connected (i.e., which indices can be swapped)."
  ]
}
