{
  "id": "3393",
  "title": "Count Paths With the Given XOR Value",
  "slug": "count-paths-with-the-given-xor-value",
  "difficulty": "Medium",
  "category": "Algorithms",
  "content_html": "<p>You are given a 2D integer array <code>grid</code> with size <code>m x n</code>. You are also given an integer <code>k</code>.</p>\n\n<p>Your task is to calculate the number of paths you can take from the top-left cell <code>(0, 0)</code> to the bottom-right cell <code>(m - 1, n - 1)</code> satisfying the following <strong>constraints</strong>:</p>\n\n<ul>\n\t<li>You can either move to the right or down. Formally, from the cell <code>(i, j)</code> you may move to the cell <code>(i, j + 1)</code> or to the cell <code>(i + 1, j)</code> if the target cell <em>exists</em>.</li>\n\t<li>The <code>XOR</code> of all the numbers on the path must be <strong>equal</strong> to <code>k</code>.</li>\n</ul>\n\n<p>Return the total number of such paths.</p>\n\n<p>Since the answer can be very large, return the result <strong>modulo</strong> <code>10<sup>9</sup> + 7</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">grid = [[2, 1, 5], [7, 10, 0], [12, 6, 4]], k = 11</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">3</span></p>\n\n<p><strong>Explanation:</strong>&nbsp;</p>\n\n<p>The 3 paths are:</p>\n\n<ul>\n\t<li><code>(0, 0) &rarr; (1, 0) &rarr; (2, 0) &rarr; (2, 1) &rarr; (2, 2)</code></li>\n\t<li><code>(0, 0) &rarr; (1, 0) &rarr; (1, 1) &rarr; (1, 2) &rarr; (2, 2)</code></li>\n\t<li><code>(0, 0) &rarr; (0, 1) &rarr; (1, 1) &rarr; (2, 1) &rarr; (2, 2)</code></li>\n</ul>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">grid = [[1, 3, 3, 3], [0, 3, 3, 2], [3, 0, 1, 1]], k = 2</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">5</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The 5 paths are:</p>\n\n<ul>\n\t<li><code>(0, 0) &rarr; (1, 0) &rarr; (2, 0) &rarr; (2, 1) &rarr; (2, 2) &rarr; (2, 3)</code></li>\n\t<li><code>(0, 0) &rarr; (1, 0) &rarr; (1, 1) &rarr; (2, 1) &rarr; (2, 2) &rarr; (2, 3)</code></li>\n\t<li><code>(0, 0) &rarr; (1, 0) &rarr; (1, 1) &rarr; (1, 2) &rarr; (1, 3) &rarr; (2, 3)</code></li>\n\t<li><code>(0, 0) &rarr; (0, 1) &rarr; (1, 1) &rarr; (1, 2) &rarr; (2, 2) &rarr; (2, 3)</code></li>\n\t<li><code>(0, 0) &rarr; (0, 1) &rarr; (0, 2) &rarr; (1, 2) &rarr; (2, 2) &rarr; (2, 3)</code></li>\n</ul>\n</div>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">grid = [[1, 1, 1, 2], [3, 0, 3, 2], [3, 0, 2, 2]], k = 10</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">0</span></p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= m == grid.length &lt;= 300</code></li>\n\t<li><code>1 &lt;= n == grid[r].length &lt;= 300</code></li>\n\t<li><code>0 &lt;= grid[r][c] &lt; 16</code></li>\n\t<li><code>0 &lt;= k &lt; 16</code></li>\n</ul>\n",
  "content_markdown": "You are given a 2D integer array `grid` with size `m x n`. You are also given an integer `k`.\n\nYour task is to calculate the number of paths you can take from the top-left cell `(0, 0)` to the bottom-right cell `(m - 1, n - 1)` satisfying the following **constraints** :\n\n  * You can either move to the right or down. Formally, from the cell `(i, j)` you may move to the cell `(i, j + 1)` or to the cell `(i + 1, j)` if the target cell _exists_.\n  * The `XOR` of all the numbers on the path must be **equal** to `k`.\n\n\n\nReturn the total number of such paths.\n\nSince the answer can be very large, return the result **modulo** `109 + 7`.\n\n \n\n**Example 1:**\n\n**Input:** grid = [[2, 1, 5], [7, 10, 0], [12, 6, 4]], k = 11\n\n**Output:** 3\n\n**Explanation:**  \n\nThe 3 paths are:\n\n  * `(0, 0) → (1, 0) → (2, 0) → (2, 1) → (2, 2)`\n  * `(0, 0) → (1, 0) → (1, 1) → (1, 2) → (2, 2)`\n  * `(0, 0) → (0, 1) → (1, 1) → (2, 1) → (2, 2)`\n\n\n\n**Example 2:**\n\n**Input:** grid = [[1, 3, 3, 3], [0, 3, 3, 2], [3, 0, 1, 1]], k = 2\n\n**Output:** 5\n\n**Explanation:**\n\nThe 5 paths are:\n\n  * `(0, 0) → (1, 0) → (2, 0) → (2, 1) → (2, 2) → (2, 3)`\n  * `(0, 0) → (1, 0) → (1, 1) → (2, 1) → (2, 2) → (2, 3)`\n  * `(0, 0) → (1, 0) → (1, 1) → (1, 2) → (1, 3) → (2, 3)`\n  * `(0, 0) → (0, 1) → (1, 1) → (1, 2) → (2, 2) → (2, 3)`\n  * `(0, 0) → (0, 1) → (0, 2) → (1, 2) → (2, 2) → (2, 3)`\n\n\n\n**Example 3:**\n\n**Input:** grid = [[1, 1, 1, 2], [3, 0, 3, 2], [3, 0, 2, 2]], k = 10\n\n**Output:** 0\n\n \n\n**Constraints:**\n\n  * `1 <= m == grid.length <= 300`\n  * `1 <= n == grid[r].length <= 300`\n  * `0 <= grid[r][c] < 16`\n  * `0 <= k < 16`",
  "question": "You are given a 2D integer array `grid` with size `m x n`. You are also given an integer `k`.\n\nYour task is to calculate the number of paths you can take from the top-left cell `(0, 0)` to the bottom-right cell `(m - 1, n - 1)` satisfying the following **constraints** :\n\n  * You can either move to the right or down. Formally, from the cell `(i, j)` you may move to the cell `(i, j + 1)` or to the cell `(i + 1, j)` if the target cell _exists_.\n  * The `XOR` of all the numbers on the path must be **equal** to `k`.\n\n\n\nReturn the total number of such paths.\n\nSince the answer can be very large, return the result **modulo** `109 + 7`.",
  "examples": "**Example 1:**\n\n**Input:** grid = [[2, 1, 5], [7, 10, 0], [12, 6, 4]], k = 11\n\n**Output:** 3\n\n**Explanation:**  \n\nThe 3 paths are:\n\n  * `(0, 0) → (1, 0) → (2, 0) → (2, 1) → (2, 2)`\n  * `(0, 0) → (1, 0) → (1, 1) → (1, 2) → (2, 2)`\n  * `(0, 0) → (0, 1) → (1, 1) → (2, 1) → (2, 2)`\n\n\n\n**Example 2:**\n\n**Input:** grid = [[1, 3, 3, 3], [0, 3, 3, 2], [3, 0, 1, 1]], k = 2\n\n**Output:** 5\n\n**Explanation:**\n\nThe 5 paths are:\n\n  * `(0, 0) → (1, 0) → (2, 0) → (2, 1) → (2, 2) → (2, 3)`\n  * `(0, 0) → (1, 0) → (1, 1) → (2, 1) → (2, 2) → (2, 3)`\n  * `(0, 0) → (1, 0) → (1, 1) → (1, 2) → (1, 3) → (2, 3)`\n  * `(0, 0) → (0, 1) → (1, 1) → (1, 2) → (2, 2) → (2, 3)`\n  * `(0, 0) → (0, 1) → (0, 2) → (1, 2) → (2, 2) → (2, 3)`\n\n\n\n**Example 3:**\n\n**Input:** grid = [[1, 1, 1, 2], [3, 0, 3, 2], [3, 0, 2, 2]], k = 10\n\n**Output:** 0",
  "constraints": "**Constraints:**\n\n  * `1 <= m == grid.length <= 300`\n  * `1 <= n == grid[r].length <= 300`\n  * `0 <= grid[r][c] < 16`\n  * `0 <= k < 16`",
  "topics": ["Array", "Dynamic Programming", "Bit Manipulation", "Matrix"],
  "total_accepted": 21036,
  "total_submissions": 51888,
  "acceptance_rate": "40.5%",
  "similar_questions": [
    {
      "title": "Count Pairs With XOR in a Range",
      "slug": "count-pairs-with-xor-in-a-range",
      "difficulty": "Hard",
      "url": "https://leetcode.com/problems/count-pairs-with-xor-in-a-range/"
    }
  ],
  "hints": ["Use DP."]
}
